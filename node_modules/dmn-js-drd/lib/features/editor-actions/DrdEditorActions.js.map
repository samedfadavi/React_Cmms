{"version":3,"file":"DrdEditorActions.js","names":["inherits","EditorActions","DrdEditorActions","injector","invoke","$inject","prototype","_registerDefaultActions","call","canvas","get","elementRegistry","selection","lassoTool","handTool","directEditing","distributeElements","alignElements","searchPad","_registerAction","rootElement","getRootElement","elements","filter","element","select","opts","currentSelection","type","length","trigger","toggle","activate"],"sources":["../../../src/features/editor-actions/DrdEditorActions.js"],"sourcesContent":["import inherits from 'inherits-browser';\n\nimport EditorActions from 'diagram-js/lib/features/editor-actions/EditorActions';\n\nexport default function DrdEditorActions(injector) {\n  injector.invoke(EditorActions, this);\n}\n\ninherits(DrdEditorActions, EditorActions);\n\nDrdEditorActions.$inject = [\n  'injector'\n];\n\n\n/**\n * Register default actions.\n *\n * @param {Injector} injector\n */\nDrdEditorActions.prototype._registerDefaultActions = function(injector) {\n\n  // (0) invoke super method\n\n  EditorActions.prototype._registerDefaultActions.call(this, injector);\n\n  // (1) retrieve optional components to integrate with\n\n  const canvas = injector.get('canvas', false),\n        elementRegistry = injector.get('elementRegistry', false),\n        selection = injector.get('selection', false),\n        lassoTool = injector.get('lassoTool', false),\n        handTool = injector.get('handTool', false),\n        directEditing = injector.get('directEditing', false),\n        distributeElements = injector.get('distributeElements', false),\n        alignElements = injector.get('alignElements', false),\n        searchPad = injector.get('searchPad', false);\n\n  // (2) check components and register actions\n\n  if (canvas && elementRegistry && selection) {\n    this._registerAction('selectElements', function() {\n\n      // select all elements except for the invisible\n      // root element\n      var rootElement = canvas.getRootElement();\n\n      var elements = elementRegistry.filter(function(element) {\n        return element !== rootElement;\n      });\n\n      selection.select(elements);\n\n      return elements;\n    });\n  }\n\n  if (selection && distributeElements) {\n    this._registerAction('distributeElements', function(opts) {\n      var currentSelection = selection.get(),\n          type = opts.type;\n\n      if (currentSelection.length > 2) {\n        distributeElements.trigger(currentSelection, type);\n      }\n    });\n  }\n\n  if (selection && alignElements) {\n    this._registerAction('alignElements', function(opts) {\n      var currentSelection = selection.get(),\n          type = opts.type;\n\n      if (currentSelection.length > 1) {\n        alignElements.trigger(currentSelection, type);\n      }\n    });\n  }\n\n  if (lassoTool) {\n    this._registerAction('lassoTool', function() {\n      lassoTool.toggle();\n    });\n  }\n\n  if (handTool) {\n    this._registerAction('handTool', function() {\n      handTool.toggle();\n    });\n  }\n\n  if (selection && directEditing) {\n    this._registerAction('directEditing', function() {\n      var currentSelection = selection.get();\n\n      if (currentSelection.length) {\n        directEditing.activate(currentSelection[0]);\n      }\n    });\n  }\n\n  if (selection && searchPad) {\n    this._registerAction('find', function() {\n      searchPad.toggle();\n    });\n  }\n};\n"],"mappings":"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","ignoreList":[]}