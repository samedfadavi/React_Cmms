import {
  p as p3
} from "./chunk-25PFK4XY.js";
import {
  a as a4
} from "./chunk-M6HMVFJK.js";
import {
  p as p2
} from "./chunk-NRWI2SUH.js";
import {
  C as C2,
  M,
  R,
  V as V2,
  Z,
  y as y2
} from "./chunk-4SCOCLA2.js";
import {
  a as a3,
  d,
  j,
  p,
  u
} from "./chunk-NSXZC33R.js";
import {
  v
} from "./chunk-RM4VMFVT.js";
import {
  i as i2,
  n as n2
} from "./chunk-TXIL3QUC.js";
import {
  C,
  S
} from "./chunk-OHUWK5XV.js";
import {
  i as i3
} from "./chunk-IJUFAIOF.js";
import {
  i
} from "./chunk-FJPG3YI6.js";
import {
  Xe,
  b,
  h,
  w as w2
} from "./chunk-CAC7FEOV.js";
import {
  c
} from "./chunk-AZ7WOCBW.js";
import {
  V
} from "./chunk-3DBICPHD.js";
import {
  w
} from "./chunk-66KCMKB5.js";
import {
  o
} from "./chunk-ZART2Y5J.js";
import {
  f as f2,
  r as r2
} from "./chunk-F4OBDVPS.js";
import {
  me,
  oe
} from "./chunk-X3IFQMC4.js";
import {
  s
} from "./chunk-4ZEH5SNV.js";
import {
  f2 as f,
  r4 as r,
  t5 as t,
  y
} from "./chunk-TJUEGVVG.js";
import {
  T,
  a3 as a2
} from "./chunk-GEH2VXFC.js";
import {
  e
} from "./chunk-BJY5ADVY.js";
import {
  a,
  n2 as n
} from "./chunk-YNL57W4I.js";

// ../node_modules/@arcgis/core/form/ExpressionInfo.js
var s2;
var i4 = s2 = class extends f {
  constructor(e5) {
    super(e5), this.expression = null, this.name = null, this.returnType = "boolean", this.title = null;
  }
  clone() {
    return new s2({ name: this.name, title: this.title, expression: this.expression, returnType: this.returnType });
  }
};
e([y({ type: String, json: { write: true } })], i4.prototype, "expression", void 0), e([y({ type: String, json: { write: true } })], i4.prototype, "name", void 0), e([y({ type: ["boolean", "date", "number", "string"], json: { write: true } })], i4.prototype, "returnType", void 0), e([y({ type: String, json: { write: true } })], i4.prototype, "title", void 0), i4 = s2 = e([a2("esri.form.ExpressionInfo")], i4);
var p4 = i4;

// ../node_modules/@arcgis/core/form/elements/Element.js
var e2 = class extends f {
  constructor(t3) {
    super(t3), this.description = null, this.label = null, this.type = null, this.visibilityExpression = null;
  }
};
e([y({ type: String, json: { write: true } })], e2.prototype, "description", void 0), e([y({ type: String, json: { write: true } })], e2.prototype, "label", void 0), e([y()], e2.prototype, "type", void 0), e([y({ type: String, json: { write: true } })], e2.prototype, "visibilityExpression", void 0), e2 = e([a2("esri.form.elements.Element")], e2);
var i5 = e2;

// ../node_modules/@arcgis/core/form/elements/inputs/AttachmentInput.js
var s3;
var p5 = s3 = class extends f {
  constructor(t3) {
    super(t3), this.type = null;
  }
  clone() {
    return new s3({ type: this.type });
  }
};
e([y({ type: ["attachment", "audio", "document", "image", "signature", "video"], json: { write: true } })], p5.prototype, "type", void 0), p5 = s3 = e([a2("esri.form.elements.inputs.AttachmentInput")], p5);
var c2 = p5;

// ../node_modules/@arcgis/core/form/elements/AttachmentElement.js
var i6;
var p6 = i6 = class extends i5 {
  constructor(t3) {
    super(t3), this.attachmentKeyword = null, this.editableExpression = null, this.input = null, this.type = "attachment";
  }
  clone() {
    return new i6({ attachmentKeyword: this.attachmentKeyword, description: this.description, editableExpression: this.editableExpression, input: this.input, label: this.label, visibilityExpression: this.visibilityExpression });
  }
};
e([y({ type: String, json: { write: true } })], p6.prototype, "attachmentKeyword", void 0), e([y({ type: String, json: { write: true } })], p6.prototype, "editableExpression", void 0), e([y({ type: c2, json: { read: { source: "inputType" }, write: { target: "inputType" } } })], p6.prototype, "input", void 0), e([y({ type: ["attachment"], json: { read: false, write: true } })], p6.prototype, "type", void 0), p6 = i6 = e([a2("esri.form.elements.AttachmentElement")], p6);
var n3 = p6;

// ../node_modules/@arcgis/core/form/elements/inputs/Input.js
var e3 = class extends f {
  constructor(o2) {
    super(o2), this.type = null;
  }
};
e([y()], e3.prototype, "type", void 0), e3 = e([a2("esri.form.elements.inputs.Input")], e3);
var p7 = e3;

// ../node_modules/@arcgis/core/form/elements/inputs/TextInput.js
var s4 = class extends p7 {
  constructor(o2) {
    super(o2), this.maxLength = null, this.minLength = 0;
  }
};
e([y({ type: Number, json: { write: true } })], s4.prototype, "maxLength", void 0), e([y({ type: Number, json: { write: true } })], s4.prototype, "minLength", void 0), s4 = e([a2("esri.form.elements.inputs.TextInput")], s4);
var p8 = s4;

// ../node_modules/@arcgis/core/form/elements/inputs/BarcodeScannerInput.js
var s5;
var n4 = s5 = class extends p8 {
  constructor(r3) {
    super(r3), this.type = "barcode-scanner";
  }
  clone() {
    return new s5({ maxLength: this.maxLength, minLength: this.minLength });
  }
};
e([y({ type: ["barcode-scanner"], json: { read: false, write: true } })], n4.prototype, "type", void 0), n4 = s5 = e([a2("esri.form.elements.inputs.BarcodeScannerInput")], n4);
var c3 = n4;

// ../node_modules/@arcgis/core/form/elements/inputs/ComboBoxInput.js
var s6;
var p9 = s6 = class extends p7 {
  constructor(o2) {
    super(o2), this.noValueOptionLabel = null, this.showNoValueOption = true, this.type = "combo-box";
  }
  clone() {
    return new s6({ showNoValueOption: this.showNoValueOption, noValueOptionLabel: this.noValueOptionLabel });
  }
};
e([y({ type: String, json: { write: true } })], p9.prototype, "noValueOptionLabel", void 0), e([y({ type: Boolean, json: { write: true } })], p9.prototype, "showNoValueOption", void 0), e([y({ type: ["combo-box"], json: { read: false, write: true } })], p9.prototype, "type", void 0), p9 = s6 = e([a2("esri.form.elements.inputs.ComboBoxInput")], p9);
var i7 = p9;

// ../node_modules/@arcgis/core/form/elements/inputs/DatePickerInput.js
var p10;
function s7(r3) {
  return null != r3 ? r3 : null;
}
function a5(r3) {
  return null != r3 ? r3 : null;
}
var m = p10 = class extends p7 {
  constructor(r3) {
    super(r3), this.max = null, this.min = null, this.type = "date-picker";
  }
  readMax(r3, t3) {
    return s7(t3.max);
  }
  writeMax(r3, t3) {
    t3.max = a5(r3);
  }
  readMin(r3, t3) {
    return s7(t3.min);
  }
  writeMin(r3, t3) {
    t3.min = a5(r3);
  }
  clone() {
    return new p10({ max: this.max, min: this.min });
  }
};
e([y({ type: String, json: { type: String, write: true } })], m.prototype, "max", void 0), e([o("max")], m.prototype, "readMax", null), e([r2("max")], m.prototype, "writeMax", null), e([y({ type: String, json: { type: String, write: true } })], m.prototype, "min", void 0), e([o("min")], m.prototype, "readMin", null), e([r2("min")], m.prototype, "writeMin", null), e([y({ type: ["date-picker"], json: { read: false, write: true } })], m.prototype, "type", void 0), m = p10 = e([a2("esri.form.elements.inputs.DatePickerInput")], m);
var c4 = m;

// ../node_modules/@arcgis/core/form/elements/inputs/DateTimeOffsetPickerInput.js
var s8;
function p11(t3) {
  return null != t3 ? t3 : null;
}
function m2(t3) {
  return null != t3 ? t3 : null;
}
var u2 = s8 = class extends p7 {
  constructor(t3) {
    super(t3), this.includeTimeOffset = true, this.max = null, this.min = null, this.timeResolution = "minutes", this.type = "datetimeoffset-picker";
  }
  readMax(t3, e5) {
    return p11(e5.max);
  }
  writeMax(t3, e5) {
    e5.max = m2(t3);
  }
  readMin(t3, e5) {
    return p11(e5.min);
  }
  writeMin(t3, e5) {
    e5.min = m2(t3);
  }
  readTimeResolution(t3, e5) {
    return p11(e5.timeResolution);
  }
  writeTimeResolution(t3, e5) {
    e5.timeResolution = m2(t3);
  }
  clone() {
    return new s8({ includeTimeOffset: this.includeTimeOffset, max: this.max, min: this.min, timeResolution: this.timeResolution });
  }
};
e([y({ type: Boolean, json: { write: true } })], u2.prototype, "includeTimeOffset", void 0), e([y({ type: String, json: { type: String, write: true } })], u2.prototype, "max", void 0), e([o("max")], u2.prototype, "readMax", null), e([r2("max")], u2.prototype, "writeMax", null), e([y({ type: String, json: { type: String, write: true } })], u2.prototype, "min", void 0), e([o("min")], u2.prototype, "readMin", null), e([r2("min")], u2.prototype, "writeMin", null), e([y({ type: String, json: { type: String, write: true } })], u2.prototype, "timeResolution", void 0), e([o("timeResolution")], u2.prototype, "readTimeResolution", null), e([r2("timeResolution")], u2.prototype, "writeTimeResolution", null), e([y({ type: ["datetimeoffset-picker"], json: { read: false, write: true } })], u2.prototype, "type", void 0), u2 = s8 = e([a2("esri.form.elements.inputs.DateTimeOffsetPickerInput")], u2);
var l = u2;

// ../node_modules/@arcgis/core/form/elements/inputs/DateTimePickerInput.js
var p12;
function s9(e5) {
  return null != e5 ? new Date(e5) : null;
}
function m3(e5) {
  return e5 ? e5.getTime() : null;
}
var a6 = p12 = class extends p7 {
  constructor(e5) {
    super(e5), this.includeTime = false, this.max = null, this.min = null, this.type = "datetime-picker";
  }
  readMax(e5, r3) {
    return s9(r3.max);
  }
  writeMax(e5, r3) {
    r3.max = m3(e5);
  }
  readMin(e5, r3) {
    return s9(r3.min);
  }
  writeMin(e5, r3) {
    r3.min = m3(e5);
  }
  clone() {
    return new p12({ includeTime: this.includeTime, max: this.max, min: this.min });
  }
};
e([y({ type: Boolean, json: { write: true } })], a6.prototype, "includeTime", void 0), e([y({ type: Date, json: { type: Number, write: true } })], a6.prototype, "max", void 0), e([o("max")], a6.prototype, "readMax", null), e([r2("max")], a6.prototype, "writeMax", null), e([y({ type: Date, json: { type: Number, write: true } })], a6.prototype, "min", void 0), e([o("min")], a6.prototype, "readMin", null), e([r2("min")], a6.prototype, "writeMin", null), e([y({ type: ["datetime-picker"], json: { read: false, write: true } })], a6.prototype, "type", void 0), a6 = p12 = e([a2("esri.form.elements.inputs.DateTimePickerInput")], a6);
var c5 = a6;

// ../node_modules/@arcgis/core/form/elements/inputs/RadioButtonsInput.js
var s10;
var p13 = s10 = class extends p7 {
  constructor(o2) {
    super(o2), this.noValueOptionLabel = null, this.showNoValueOption = true, this.type = "radio-buttons";
  }
  clone() {
    return new s10({ noValueOptionLabel: this.noValueOptionLabel, showNoValueOption: this.showNoValueOption });
  }
};
e([y({ type: String, json: { write: true } })], p13.prototype, "noValueOptionLabel", void 0), e([y({ type: Boolean, json: { write: true } })], p13.prototype, "showNoValueOption", void 0), e([y({ type: ["radio-buttons"], json: { read: false, write: true } })], p13.prototype, "type", void 0), p13 = s10 = e([a2("esri.form.elements.inputs.RadioButtonsInput")], p13);
var i8 = p13;

// ../node_modules/@arcgis/core/form/elements/inputs/SwitchInput.js
var s11;
var p14 = s11 = class extends p7 {
  constructor(o2) {
    super(o2), this.offValue = null, this.onValue = null, this.type = "switch";
  }
  clone() {
    return new s11({ offValue: this.offValue, onValue: this.onValue });
  }
};
e([y({ type: [String, Number], json: { write: true } })], p14.prototype, "offValue", void 0), e([y({ type: [String, Number], json: { write: true } })], p14.prototype, "onValue", void 0), e([y({ type: ["switch"], json: { read: false, write: true } })], p14.prototype, "type", void 0), p14 = s11 = e([a2("esri.form.elements.inputs.SwitchInput")], p14);
var i9 = p14;

// ../node_modules/@arcgis/core/form/elements/inputs/TextAreaInput.js
var s12;
var p15 = s12 = class extends p8 {
  constructor(t3) {
    super(t3), this.type = "text-area";
  }
  clone() {
    return new s12({ maxLength: this.maxLength, minLength: this.minLength });
  }
};
e([y({ type: ["text-area"], json: { read: false, write: true } })], p15.prototype, "type", void 0), p15 = s12 = e([a2("esri.form.elements.inputs.TextAreaInput")], p15);
var a7 = p15;

// ../node_modules/@arcgis/core/form/elements/inputs/TextBoxInput.js
var s13;
var p16 = s13 = class extends p8 {
  constructor(t3) {
    super(t3), this.type = "text-box";
  }
  clone() {
    return new s13({ maxLength: this.maxLength, minLength: this.minLength });
  }
};
e([y({ type: ["text-box"], json: { read: false, write: true } })], p16.prototype, "type", void 0), p16 = s13 = e([a2("esri.form.elements.inputs.TextBoxInput")], p16);
var n5 = p16;

// ../node_modules/@arcgis/core/form/elements/inputs/TimePickerInput.js
var s14;
function p17(t3) {
  return null != t3 ? t3 : null;
}
function m4(t3) {
  return null != t3 ? t3 : null;
}
var u3 = s14 = class extends p7 {
  constructor(t3) {
    super(t3), this.max = null, this.min = null, this.timeResolution = "minutes", this.type = "time-picker";
  }
  readMax(t3, e5) {
    return p17(e5.max);
  }
  writeMax(t3, e5) {
    e5.max = m4(t3);
  }
  readMin(t3, e5) {
    return p17(e5.min);
  }
  writeMin(t3, e5) {
    e5.min = m4(t3);
  }
  readTimeResolution(t3, e5) {
    return p17(e5.timeResolution);
  }
  writeTimeResolution(t3, e5) {
    e5.timeResolution = m4(t3);
  }
  clone() {
    return new s14({ max: this.max, min: this.min, timeResolution: this.timeResolution });
  }
};
e([y({ type: String, json: { type: String, write: true } })], u3.prototype, "max", void 0), e([o("max")], u3.prototype, "readMax", null), e([r2("max")], u3.prototype, "writeMax", null), e([y({ type: String, json: { type: String, write: true } })], u3.prototype, "min", void 0), e([o("min")], u3.prototype, "readMin", null), e([r2("min")], u3.prototype, "writeMin", null), e([y({ type: String, json: { type: String, write: true } })], u3.prototype, "timeResolution", void 0), e([o("timeResolution")], u3.prototype, "readTimeResolution", null), e([r2("timeResolution")], u3.prototype, "writeTimeResolution", null), e([y({ type: ["time-picker"], json: { read: false, write: true } })], u3.prototype, "type", void 0), u3 = s14 = e([a2("esri.form.elements.inputs.TimePickerInput")], u3);
var l2 = u3;

// ../node_modules/@arcgis/core/form/elements/support/inputs.js
var c6 = { base: p7, key: "type", typeMap: { "barcode-scanner": c3, "combo-box": i7, "date-picker": c4, "datetime-picker": c5, "datetimeoffset-picker": l, "radio-buttons": i8, switch: i9, "text-area": a7, "text-box": n5, "time-picker": l2 } };

// ../node_modules/@arcgis/core/form/elements/FieldElement.js
var n6;
var l3 = n6 = class extends i5 {
  constructor(e5) {
    super(e5), this.domain = null, this.editableExpression = null, this.fieldName = null, this.hint = null, this.input = null, this.requiredExpression = null, this.type = "field", this.valueExpression = null;
  }
  get editable() {
    return this._get("editable") ?? true;
  }
  set editable(e5) {
    this._set("editable", e5);
  }
  clone() {
    return new n6({ description: this.description, domain: this.domain, editable: this.editable, editableExpression: this.editableExpression, fieldName: this.fieldName, hint: this.hint, input: this.input, label: this.label, requiredExpression: this.requiredExpression, valueExpression: this.valueExpression, visibilityExpression: this.visibilityExpression });
  }
};
e([y({ types: n2, json: { read: { reader: i2 }, write: true } })], l3.prototype, "domain", void 0), e([y({ type: Boolean, json: { write: true } })], l3.prototype, "editable", null), e([y({ type: String, json: { write: true } })], l3.prototype, "editableExpression", void 0), e([y({ type: String, json: { write: true } })], l3.prototype, "fieldName", void 0), e([y({ type: String, json: { write: true } })], l3.prototype, "hint", void 0), e([y({ types: c6, json: { read: { source: "inputType" }, write: { target: "inputType" } } })], l3.prototype, "input", void 0), e([y({ type: String, json: { write: true } })], l3.prototype, "requiredExpression", void 0), e([y({ type: String, json: { read: false, write: true } })], l3.prototype, "type", void 0), e([y({ type: String, json: { write: true } })], l3.prototype, "valueExpression", void 0), l3 = n6 = e([a2("esri.form.elements.FieldElement")], l3);
var a8 = l3;

// ../node_modules/@arcgis/core/form/elements/RelationshipElement.js
var p18;
var l4 = p18 = class extends i5 {
  constructor(e5) {
    super(e5), this.displayCount = null, this.displayType = "list", this.editableExpression = null, this.orderByFields = null, this.relationshipId = null, this.type = "relationship";
  }
  clone() {
    return new p18({ description: this.description, displayCount: this.displayCount, displayType: this.displayType, editableExpression: this.editableExpression, label: this.label, orderByFields: a(this.orderByFields), relationshipId: this.relationshipId, visibilityExpression: this.visibilityExpression });
  }
};
e([y({ type: Number, json: { write: true } })], l4.prototype, "displayCount", void 0), e([y({ type: ["list"], json: { write: true } })], l4.prototype, "displayType", void 0), e([y({ type: String, json: { write: true } })], l4.prototype, "editableExpression", void 0), e([y({ type: [i3], json: { write: true } })], l4.prototype, "orderByFields", void 0), e([y({ type: Number, json: { write: true } })], l4.prototype, "relationshipId", void 0), e([y({ type: ["relationship"], json: { read: false, write: true } })], l4.prototype, "type", void 0), l4 = p18 = e([a2("esri.form.elements.RelationshipElement")], l4);
var n7 = l4;

// ../node_modules/@arcgis/core/form/elements/TextElement.js
var s15;
var i10 = s15 = class extends i5 {
  constructor(t3) {
    super(t3), this.text = null, this.textFormat = "plain-text", this.type = "text";
  }
  clone() {
    return new s15({ text: this.text, textFormat: this.textFormat, visibilityExpression: this.visibilityExpression });
  }
};
e([y({ type: String, json: { write: true } })], i10.prototype, "text", void 0), e([y({ type: String, json: { write: true } })], i10.prototype, "textFormat", void 0), e([y({ type: ["text"], readOnly: true, json: { read: false, write: true } })], i10.prototype, "type", void 0), i10 = s15 = e([a2("esri.form.elements.TextElement")], i10);
var p19 = i10;

// ../node_modules/@arcgis/core/form/support/elements.js
function i11(t3) {
  return { typesWithGroup: { base: i5, key: "type", typeMap: { attachment: n3, field: a8, group: t3, relationship: n7, text: p19 } }, typesWithoutGroup: { base: i5, key: "type", typeMap: { attachment: n3, field: a8, relationship: n7, text: p19 } } };
}
function m5(t3, e5, p23 = true) {
  if (!t3) return null;
  const r3 = p23 ? e5.typesWithGroup.typeMap : e5.typesWithoutGroup.typeMap;
  return t3.filter((t4) => r3[t4.type]).map((t4) => r3[t4.type].fromJSON(t4));
}
function s16(t3, e5, p23 = true) {
  if (!t3) return null;
  const r3 = p23 ? e5.typesWithGroup.typeMap : e5.typesWithoutGroup.typeMap;
  return t3.filter((t4) => r3[t4.type]).map((t4) => t4.toJSON());
}
function u4(e5, p23, r3 = true) {
  return e5 ? e5.map((e6) => T(r3 ? p23.typesWithGroup : p23.typesWithoutGroup, e6)) : null;
}

// ../node_modules/@arcgis/core/form/elements/GroupElement.js
var d2;
var u5 = d2 = class extends i5 {
  constructor(e5) {
    super(e5), this.elements = null, this.initialState = "expanded", this.type = "group";
  }
  castElements(e5) {
    return u4(e5, f3, false);
  }
  readElements(e5, t3) {
    return m5(t3.formElements, f3, false);
  }
  writeElements(e5, t3) {
    t3.formElements = s16(e5, f3, false);
  }
  clone() {
    return new d2({ description: this.description, elements: a(this.elements), initialState: this.initialState, label: this.label, visibilityExpression: this.visibilityExpression });
  }
};
e([y({ json: { write: true } })], u5.prototype, "elements", void 0), e([s("elements")], u5.prototype, "castElements", null), e([o("elements", ["formElements"])], u5.prototype, "readElements", null), e([r2("elements")], u5.prototype, "writeElements", null), e([y({ type: ["collapsed", "expanded"], json: { write: true } })], u5.prototype, "initialState", void 0), e([y({ type: String, json: { read: false, write: true } })], u5.prototype, "type", void 0), u5 = d2 = e([a2("esri.form.elements.GroupElement")], u5);
var f3 = i11(u5);
var y3 = u5;

// ../node_modules/@arcgis/core/form/support/formUtils.js
var t2 = (t3) => "field" === t3.type;
var e4 = (t3) => "group" === t3.type;
var p20 = (t3) => "text" === t3.type;

// ../node_modules/@arcgis/core/form/FormTemplate.js
var I;
var b2 = i11(y3);
var F = I = class extends f {
  constructor(e5) {
    super(e5), this.description = null, this.elements = null, this.expressionInfos = null, this.preserveFieldValuesWhenHidden = false, this.title = null;
  }
  castElements(e5) {
    return u4(e5, b2);
  }
  readElements(e5, s17) {
    return m5(s17.formElements, b2);
  }
  writeElements(e5, s17) {
    s17.formElements = s16(e5, b2);
  }
  clone() {
    return new I({ description: this.description, expressionInfos: a(this.expressionInfos), elements: a(this.elements), title: this.title, preserveFieldValuesWhenHidden: this.preserveFieldValuesWhenHidden });
  }
  async getFieldsUsed(e5, s17) {
    const t3 = /* @__PURE__ */ new Set(), { description: r3, elements: o2, expressionInfos: i12, title: n9 } = this;
    if (U(t3, e5, r3), U(t3, e5, n9), !o2) return [];
    const p23 = k(o2, i12).map((s18) => h(t3, e5, s18));
    await Promise.all(p23);
    for (const l6 of o2) g(t3, { fieldsIndex: e5, relationships: s17 }, l6);
    return Array.from(t3).sort();
  }
};
function g(e5, s17, t3) {
  var _a;
  const { fieldsIndex: r3 } = s17;
  if (!r3 || r3.fields.length !== e5.size) switch (U(e5, r3, t3.label), U(e5, r3, t3.description), t3.type) {
    case "field":
      w2(e5, r3, t3.fieldName);
      break;
    case "group":
      t3.elements.forEach((t4) => g(e5, s17, t4));
      break;
    case "relationship":
      if (s17.relationships) {
        const o2 = s17.relationships.find((e6) => e6.id === t3.relationshipId);
        o2 && w2(e5, r3, o2.keyField);
      }
      b(e5, r3, (_a = t3.orderByFields) == null ? void 0 : _a.map((e6) => e6.field));
      break;
    case "text":
      U(e5, r3, t3.text);
  }
}
function k(e5, s17) {
  if (!s17 || 0 === s17.length) return [];
  const t3 = H(e5), r3 = [];
  for (const o2 of s17) t3.has(o2.name) && r3.push(o2.expression);
  return r3;
}
function H(e5) {
  const s17 = /* @__PURE__ */ new Set();
  for (const t3 of e5) if (t(s17, t3.visibilityExpression), !p20(t3)) {
    if (e4(t3)) r(s17, H(t3.elements));
    else if (t(s17, t3.editableExpression), t2(t3)) {
      const { requiredExpression: e6, valueExpression: r3 } = t3;
      r(s17, [e6, r3]);
    }
  }
  return s17;
}
function U(e5, s17, t3) {
  b(e5, s17, Xe(t3));
}
e([y({ type: String, json: { write: true } })], F.prototype, "description", void 0), e([y({ json: { write: true } })], F.prototype, "elements", void 0), e([s("elements")], F.prototype, "castElements", null), e([o("elements", ["formElements"])], F.prototype, "readElements", null), e([r2("elements")], F.prototype, "writeElements", null), e([y({ type: [p4], json: { write: true } })], F.prototype, "expressionInfos", void 0), e([y({ type: Boolean, json: { default: false, write: true } })], F.prototype, "preserveFieldValuesWhenHidden", void 0), e([y({ type: String, json: { write: true } })], F.prototype, "title", void 0), F = I = e([a2("esri.form.FormTemplate")], F);
var V3 = F;

// ../node_modules/@arcgis/core/layers/support/EditFieldsInfo.js
var l5 = class extends i(f) {
  constructor(o2) {
    super(o2), this.creatorField = null, this.creationDateField = null, this.editorField = null, this.editDateField = null, this.realm = null, this.timeZone = null;
  }
};
e([y()], l5.prototype, "creatorField", void 0), e([y()], l5.prototype, "creationDateField", void 0), e([y()], l5.prototype, "editorField", void 0), e([y()], l5.prototype, "editDateField", void 0), e([y()], l5.prototype, "realm", void 0), e([y(c("dateFieldsTimeReference", true))], l5.prototype, "timeZone", void 0), l5 = e([a2("esri.layers.support.EditFieldsInfo")], l5);
var p21 = l5;

// ../node_modules/@arcgis/core/layers/support/FeatureIndex.js
var p22 = class extends i(f) {
  constructor(o2) {
    super(o2);
  }
};
e([y({ constructOnly: true, json: { write: true } })], p22.prototype, "name", void 0), e([y({ constructOnly: true, json: { write: true } })], p22.prototype, "fields", void 0), e([y({ constructOnly: true, json: { write: true } })], p22.prototype, "isAscending", void 0), e([y({ constructOnly: true, json: { write: true } })], p22.prototype, "indexType", void 0), e([y({ constructOnly: true, json: { write: true } })], p22.prototype, "isUnique", void 0), e([y({ constructOnly: true, json: { write: true } })], p22.prototype, "description", void 0), p22 = e([a2("esri.layers.support.FeatureIndex")], p22);

// ../node_modules/@arcgis/core/layers/support/GeometryFieldsInfo.js
var a9 = class extends i(f) {
  constructor(e5) {
    super(e5), this.shapeAreaField = null, this.shapeLengthField = null, this.units = null;
  }
};
e([y({ type: String, json: { read: { source: "shapeAreaFieldName" } } })], a9.prototype, "shapeAreaField", void 0), e([y({ type: String, json: { read: { source: "shapeLengthFieldName" } } })], a9.prototype, "shapeLengthField", void 0), e([y({ type: String, json: { read: (e5) => oe.read(e5) || me.read(e5) } })], a9.prototype, "units", void 0), a9 = e([a2("esri.layers.support.GeometryFieldsInfo")], a9);
var c7 = a9;

// ../node_modules/@arcgis/core/layers/support/Subtype.js
var c8 = class extends i(f) {
  constructor(o2) {
    super(o2), this.code = null, this.defaultValues = {}, this.domains = null, this.name = null;
  }
  readDomains(o2) {
    if (!o2) return null;
    const r3 = {};
    for (const t3 of Object.keys(o2)) r3[t3] = i2(o2[t3]);
    return r3;
  }
  writeDomains(o2, r3) {
    var _a;
    if (!o2) return;
    const t3 = {};
    for (const e5 of Object.keys(o2)) o2[e5] && (t3[e5] = (_a = o2[e5]) == null ? void 0 : _a.toJSON());
    r3.domains = t3;
  }
};
e([y({ type: Number, json: { write: true } })], c8.prototype, "code", void 0), e([y({ type: Object, json: { write: true } })], c8.prototype, "defaultValues", void 0), e([y({ json: { write: true } })], c8.prototype, "domains", void 0), e([o("domains")], c8.prototype, "readDomains", null), e([r2("domains")], c8.prototype, "writeDomains", null), e([y({ type: String, json: { write: true } })], c8.prototype, "name", void 0), c8 = e([a2("esri.layers.support.Subtype")], c8);
var n8 = c8;

// ../node_modules/@arcgis/core/layers/mixins/FeatureLayerBase.js
var R2 = (R3) => {
  let B = class extends R3 {
    constructor() {
      super(...arguments), this.copyright = null, this.capabilities = null, this.dateFieldsTimeZone = null, this.datesInUnknownTimezone = false, this.definitionExpression = null, this.displayField = null, this.editFieldsInfo = null, this.editingInfo = null, this.elevationInfo = null, this.floorInfo = null, this.fullExtent = null, this.gdbVersion = null, this.geometryFieldsInfo = null, this.geometryType = null, this.globalIdField = null, this.hasM = void 0, this.hasZ = void 0, this.heightModelInfo = null, this.historicMoment = null, this.indexes = new (V.ofType(p22))(), this.isTable = false, this.layerId = void 0, this.maxScale = 0, this.minScale = 0, this.objectIdField = null, this.preferredTimeZone = null, this.relationships = null, this.returnM = void 0, this.returnZ = void 0, this.serviceDefinitionExpression = null, this.serviceItemId = null, this.sourceJSON = null, this.spatialReference = f2.WGS84, this.subtypeField = null, this.subtypes = null, this.trackIdField = null, this.version = void 0;
    }
    get authenticationTriggerEvent() {
      if (!this.url) return null;
      const { capabilities: e5 } = this;
      if (e5) {
        const { query: t4, operations: r3, editing: i12 } = e5;
        if (!t4.supportsQueryByOthers || !t4.supportsQueryByAnonymous) return "load";
        if (r3.supportsEditing && !(i12.supportsUpdateByOthers && i12.supportsUpdateByAnonymous && i12.supportsDeleteByOthers && i12.supportsDeleteByAnonymous)) return "load";
      }
      if (this.userHasUpdateItemPrivileges) {
        if (V2(this)) return "load";
        if (this.hasUpdateItemRestrictions) return e5.operations.supportsQuery ? "editing" : "load";
      }
      if (this.userHasFullEditingPrivileges && this.hasFullEditingRestrictions) return "editing";
      const t3 = this.editFieldsInfo;
      return ((t3 == null ? void 0 : t3.creatorField) || (t3 == null ? void 0 : t3.editorField)) && (e5 == null ? void 0 : e5.operations.supportsEditing) ? "editing" : null;
    }
    readCapabilitiesFromService(e5, t3) {
      return a4(t3, this.url);
    }
    readEditingInfo(e5, t3) {
      const { editingInfo: r3 } = t3;
      return r3 ? { lastEditDate: null != r3.lastEditDate ? new Date(r3.lastEditDate) : null } : null;
    }
    get effectiveCapabilities() {
      const e5 = this.capabilities;
      if (!e5) return null;
      const t3 = a(e5), { operations: i12, editing: o2 } = t3;
      return Z(this) ? (this.userHasUpdateItemPrivileges && (i12.supportsQuery = true), t3) : this.userHasUpdateItemPrivileges ? (i12.supportsAdd = i12.supportsDelete = i12.supportsEditing = i12.supportsQuery = i12.supportsUpdate = o2.supportsDeleteByOthers = o2.supportsGeometryUpdate = o2.supportsUpdateByOthers = true, t3) : (this.userHasFullEditingPrivileges && i12.supportsEditing && (i12.supportsAdd = i12.supportsDelete = i12.supportsUpdate = o2.supportsGeometryUpdate = true), t3);
    }
    readGlobalIdFieldFromService(e5, t3) {
      return R(t3);
    }
    get hasFullEditingRestrictions() {
      const e5 = this.capabilities;
      if (!e5 || Z(this)) return false;
      const { operations: t3, editing: r3 } = e5;
      return t3.supportsEditing && !(t3.supportsAdd && t3.supportsDelete && t3.supportsUpdate && r3.supportsGeometryUpdate);
    }
    get hasUpdateItemRestrictions() {
      const e5 = this.capabilities;
      if (!e5) return false;
      const { operations: t3, editing: r3 } = e5;
      return Z(this) ? !t3.supportsQuery : !(t3.supportsAdd && t3.supportsDelete && t3.supportsEditing && t3.supportsQuery && t3.supportsUpdate && r3.supportsDeleteByOthers && r3.supportsGeometryUpdate && r3.supportsUpdateByOthers);
    }
    readIsTableFromService(e5, t3) {
      return "Table" === t3.type;
    }
    readMaxScale(e5, t3) {
      return t3.effectiveMaxScale || e5 || 0;
    }
    readMinScale(e5, t3) {
      return t3.effectiveMinScale || e5 || 0;
    }
    readObjectIdFieldFromService(e5, t3) {
      return M(t3);
    }
    readServiceDefinitionExpression(e5, t3) {
      return t3.definitionQuery || t3.definitionExpression;
    }
    set url(e5) {
      if (null == e5) return void this._set("url", e5);
      const t3 = S({ layer: this, url: e5, nonStandardUrlAllowed: true, logger: n.getLogger(this) });
      this._set("url", t3.url), null != t3.layerId && this._set("layerId", t3.layerId);
    }
    writeUrl(e5, t3, r3, i12) {
      C(this, e5, null, t3, i12);
    }
    readVersion(e5, t3) {
      return C2(t3);
    }
  };
  return e([y({ readOnly: true })], B.prototype, "authenticationTriggerEvent", null), e([y({ type: String, json: { origins: { service: { read: { source: "copyrightText" } } } } })], B.prototype, "copyright", void 0), e([y({ readOnly: true, json: { read: false, origins: { service: { read: { source: ["advancedQueryCapabilities", "allowGeometryUpdates", "allowUpdateWithoutMValues", "archivingInfo", "capabilities", "datesInUnknownTimezone", "hasAttachments", "hasM", "hasZ", "maxRecordCount", "maxRecordCountFactor", "ownershipBasedAccessControlForFeatures", "standardMaxRecordCount", "supportedQueryFormats", "supportsAdvancedQueries", "supportsApplyEditsWithGlobalIds", "supportsAttachmentsByUploadId", "supportsAttachmentsResizing", "supportsCalculate", "supportsCoordinatesQuantization", "supportsExceedsLimitStatistics", "supportsFieldDescriptionProperty", "supportsQuantizationEditMode", "supportsRollbackOnFailureParameter", "supportsStatistics", "supportsTruncate", "supportsValidateSql", "tileMaxRecordCount", "useStandardizedQueries"] } } } } })], B.prototype, "capabilities", void 0), e([o("service", "capabilities")], B.prototype, "readCapabilitiesFromService", null), e([y(c("dateFieldsTimeReference"))], B.prototype, "dateFieldsTimeZone", void 0), e([y({ type: Boolean })], B.prototype, "datesInUnknownTimezone", void 0), e([y({ type: String, json: { origins: { service: { read: false, write: false } }, name: "layerDefinition.definitionExpression", write: { enabled: true, allowNull: true } } })], B.prototype, "definitionExpression", void 0), e([y({ type: String, json: { origins: { service: { read: { source: "displayField" } } } } })], B.prototype, "displayField", void 0), e([y({ readOnly: true, type: p21 })], B.prototype, "editFieldsInfo", void 0), e([y({ readOnly: true })], B.prototype, "editingInfo", void 0), e([o("editingInfo")], B.prototype, "readEditingInfo", null), e([y({ readOnly: true })], B.prototype, "effectiveCapabilities", null), e([y((() => {
    const e5 = a(d), t3 = e5.json.origins;
    return t3["web-map"] = { read: false, write: false }, t3["portal-item"] = { read: false, write: false }, e5;
  })())], B.prototype, "elevationInfo", void 0), e([y({ type: p2, json: { name: "layerDefinition.floorInfo", write: true, origins: { "web-scene": { name: "layerDefinition.floorInfo", write: { enabled: true, layerContainerTypes: a3 } } } } })], B.prototype, "floorInfo", void 0), e([y({ type: w, json: { origins: { service: { read: { source: "extent" } } } } })], B.prototype, "fullExtent", void 0), e([y()], B.prototype, "gdbVersion", void 0), e([y({ readOnly: true, type: c7, json: { read: { source: "geometryProperties" } } })], B.prototype, "geometryFieldsInfo", void 0), e([y({ type: ["point", "polygon", "polyline", "multipoint", "multipatch", "mesh"], json: { origins: { service: { read: y2.read } } } })], B.prototype, "geometryType", void 0), e([y({ type: String })], B.prototype, "globalIdField", void 0), e([o("service", "globalIdField", ["globalIdField", "fields"])], B.prototype, "readGlobalIdFieldFromService", null), e([y({ readOnly: true })], B.prototype, "hasFullEditingRestrictions", null), e([y({ type: Boolean, json: { origins: { service: { read: true } } } })], B.prototype, "hasM", void 0), e([y({ readOnly: true })], B.prototype, "hasUpdateItemRestrictions", null), e([y({ type: Boolean, json: { origins: { service: { read: true } } } })], B.prototype, "hasZ", void 0), e([y({ readOnly: true, type: v })], B.prototype, "heightModelInfo", void 0), e([y({ type: Date })], B.prototype, "historicMoment", void 0), e([y({ type: V.ofType(p22), readOnly: true })], B.prototype, "indexes", void 0), e([y({ readOnly: true })], B.prototype, "isTable", void 0), e([o("service", "isTable", ["type"])], B.prototype, "readIsTableFromService", null), e([y({ type: Number, json: { origins: { service: { read: { source: "id" } }, "portal-item": { read: false, write: { target: "id" } } }, read: false } })], B.prototype, "layerId", void 0), e([y(j)], B.prototype, "maxScale", void 0), e([o("service", "maxScale", ["maxScale", "effectiveMaxScale"])], B.prototype, "readMaxScale", null), e([y(u)], B.prototype, "minScale", void 0), e([o("service", "minScale", ["minScale", "effectiveMinScale"])], B.prototype, "readMinScale", null), e([y({ type: String })], B.prototype, "objectIdField", void 0), e([o("service", "objectIdField", ["objectIdField", "fields"])], B.prototype, "readObjectIdFieldFromService", null), e([y(c("preferredTimeReference"))], B.prototype, "preferredTimeZone", void 0), e([y({ type: [p3], readOnly: true })], B.prototype, "relationships", void 0), e([y({ type: Boolean })], B.prototype, "returnM", void 0), e([y({ type: Boolean })], B.prototype, "returnZ", void 0), e([y({ readOnly: true, json: { write: false } })], B.prototype, "serverGens", void 0), e([y({ readOnly: true })], B.prototype, "serviceDefinitionExpression", void 0), e([o("service", "serviceDefinitionExpression", ["definitionQuery", "definitionExpression"])], B.prototype, "readServiceDefinitionExpression", null), e([y({ type: String, readOnly: true, json: { read: false, origins: { service: { read: true } } } })], B.prototype, "serviceItemId", void 0), e([y()], B.prototype, "sourceJSON", void 0), e([y({ type: f2, json: { origins: { service: { read: { source: "extent.spatialReference" } } } } })], B.prototype, "spatialReference", void 0), e([y({ type: String, readOnly: true, json: { origins: { service: { read: true } } } })], B.prototype, "subtypeField", void 0), e([y({ type: [n8], readOnly: true, json: { read: false, origins: { service: { read: true } } } })], B.prototype, "subtypes", void 0), e([y({ type: String, json: { read: { source: "timeInfo.trackIdField" } } })], B.prototype, "trackIdField", void 0), e([y(p)], B.prototype, "url", null), e([r2("url")], B.prototype, "writeUrl", null), e([y({ json: { origins: { service: { read: true } }, read: false } })], B.prototype, "version", void 0), e([o("service", "version", ["currentVersion", "capabilities", "drawingInfo", "hasAttachments", "htmlPopupType", "relationships", "timeInfo", "typeIdField", "types"])], B.prototype, "readVersion", null), B = e([a2("esri.layers.mixins.FeatureLayerBase")], B), B;
};

export {
  V3 as V,
  R2 as R
};
//# sourceMappingURL=chunk-QP7JUYAO.js.map
