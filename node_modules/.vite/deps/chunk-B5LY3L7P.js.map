{
  "version": 3,
  "sources": ["../../../../node_modules/@arcgis/core/rest/knowledgeGraph/ProtoFeatureCollection.js", "../../../../node_modules/@arcgis/core/rest/knowledgeGraph/wasmInterface/WasmSerializedLayerData.js", "../../../../node_modules/@arcgis/core/layers/knowledgeGraph/supportUtils.js", "../../../../node_modules/@arcgis/core/layers/knowledgeGraph/SessionMemoryStorage.js", "../../../../node_modules/@arcgis/core/layers/knowledgeGraph/KnowledgeGraphLayerDataManager.js", "../../../../node_modules/@arcgis/core/layers/knowledgeGraph/KnowledgeGraphSublayerBase.js", "../../../../node_modules/@arcgis/core/layers/knowledgeGraph/KnowledgeGraphSublayer.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import s from\"../../geometry/SpatialReference.js\";class t{constructor(){this.version=\"\",this.queryResult=new e}}class e{constructor(){this.featureResult=new i}}class i{constructor(){this.objectIdFieldName=\"\",this.uniqueIdField=new r,this.globalIdFieldName=\"\",this.geohashFieldName=\"\",this.geometryProperties=new a,this.geometryType=null,this.spatialReference=new s,this.exceededTransferLimit=!1,this.hasZ=!1,this.hasM=!1,this.transform=new h,this.fields=[],this.fieldNameToAttributeIndexMap={},this.values=[],this.features=[],this.geometryFields=[]}}class r{constructor(){this.name=\"\",this.isSystemMaintained=!1}}class a{constructor(){this.shapeAreaFieldName=\"\",this.shapeLengthFieldName=\"\",this.units=\"\"}}class h{constructor(){this.quantizeOriginPosition=\"upperLeft\",this.scale=new n,this.translate=new o}}class n{constructor(){this.xScale=0,this.yScale=0,this.mScale=0,this.zScale=0}}class o{constructor(){this.xTranslate=0,this.yTranslate=0,this.mTranslate=0,this.zTranslate=0}}class c{constructor(){this.name=\"\",this.fieldType=\"esriFieldTypeString\",this.alias=\"\",this.sqlType=\"sqlTypeVarchar\",this.domain=\"\",this.defaultValue=\"\"}}class l{constructor(){this.attributes=[],this.compressedGeometry=new E,this.centroid=new E,this.aggregateGeometries=[]}}class E{constructor(){this.geometryType=null,this.lengths=[],this.coords=[]}}class u extends c{constructor(){super(...arguments),this.geometryType=\"esriGeometryPoint\"}}var T;!function(s){s.ELEMENTUID=\"ELEMENTUID\",s.TYPENAME=\"TYPENAME\"}(T||(T={}));const m=[T.ELEMENTUID,T.TYPENAME];var d,p;!function(s){s[s.ELEMENTUID=0]=\"ELEMENTUID\",s[s.TYPENAME=1]=\"TYPENAME\"}(d||(d={})),function(s){s[s.ELEMENTUID=0]=\"ELEMENTUID\",s[s.TYPENAME=1]=\"TYPENAME\",s[s.FROMUID=2]=\"FROMUID\",s[s.TOUID=3]=\"TOUID\"}(p||(p={}));export{E as CompressedGeometry,l as Feature,i as FeatureResult,c as Field,u as GeometryField,a as GeometryProperties,t as ProtoFeatureCollection,T as ProtoInboundFeatureCollectionAttributionNames,m as ProtoInboundFeatureCollectionRequiredAttributes,d as ProtoOutboundEntityFeatureCollectionAttributionIndexes,p as ProtoOutboundRelationshipFeatureCollectionAttributionIndexes,e as QueryResult,n as Scale,h as Transform,o as Translate,r as UniqueIdField};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar e,l,s,T;!function(e){e[e.featureResult=0]=\"featureResult\",e[e.countResult=1]=\"countResult\",e[e.idsResult=2]=\"idsResult\"}(e||(e={})),function(e){e[e.upperLeft=0]=\"upperLeft\",e[e.lowerLeft=1]=\"lowerLeft\"}(l||(l={})),function(e){e[e.sqlTypeBigInt=0]=\"sqlTypeBigInt\",e[e.sqlTypeBinary=1]=\"sqlTypeBinary\",e[e.sqlTypeBit=2]=\"sqlTypeBit\",e[e.sqlTypeChar=3]=\"sqlTypeChar\",e[e.sqlTypeDate=4]=\"sqlTypeDate\",e[e.sqlTypeDecimal=5]=\"sqlTypeDecimal\",e[e.sqlTypeDouble=6]=\"sqlTypeDouble\",e[e.sqlTypeFloat=7]=\"sqlTypeFloat\",e[e.sqlTypeGeometry=8]=\"sqlTypeGeometry\",e[e.sqlTypeGUID=9]=\"sqlTypeGUID\",e[e.sqlTypeInteger=10]=\"sqlTypeInteger\",e[e.sqlTypeLongNVarchar=11]=\"sqlTypeLongNVarchar\",e[e.sqlTypeLongVarbinary=12]=\"sqlTypeLongVarbinary\",e[e.sqlTypeLongVarchar=13]=\"sqlTypeLongVarchar\",e[e.sqlTypeNChar=14]=\"sqlTypeNChar\",e[e.sqlTypeNVarChar=15]=\"sqlTypeNVarChar\",e[e.sqlTypeOther=16]=\"sqlTypeOther\",e[e.sqlTypeReal=17]=\"sqlTypeReal\",e[e.sqlTypeSmallInt=18]=\"sqlTypeSmallInt\",e[e.sqlTypeSqlXml=19]=\"sqlTypeSqlXml\",e[e.sqlTypeTime=20]=\"sqlTypeTime\",e[e.sqlTypeTimestamp=21]=\"sqlTypeTimestamp\",e[e.sqlTypeTimestamp2=22]=\"sqlTypeTimestamp2\",e[e.sqlTypeTinyInt=23]=\"sqlTypeTinyInt\",e[e.sqlTypeVarbinary=24]=\"sqlTypeVarbinary\",e[e.sqlTypeVarchar=25]=\"sqlTypeVarchar\"}(s||(s={})),function(e){e[e.OID_ARRAY=0]=\"OID_ARRAY\",e[e.GLOBALID_ARRAY=1]=\"GLOBALID_ARRAY\",e[e.STRING_ARRAY=2]=\"STRING_ARRAY\",e[e.IDENTIFIER_ARRAY=3]=\"IDENTIFIER_ARRAY\"}(T||(T={}));export{T as IdArrayType,s as SqlTypeCode,l as WasmQuantizeOriginPositionTypeCode,e as WasmResultsTypeCode};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{getOrCreateMapValue as r}from\"../../core/MapUtils.js\";import{convertFromGeometry as n}from\"../graphics/featureConversionUtils.js\";import s from\"../graphics/OptimizedGeometry.js\";import{executeQueryStreaming as i}from\"../../rest/knowledgeGraphService.js\";import a from\"../../rest/knowledgeGraph/GraphQueryStreaming.js\";import{ProtoOutboundRelationshipFeatureCollectionAttributionIndexes as o,ProtoInboundFeatureCollectionAttributionNames as l,ProtoOutboundEntityFeatureCollectionAttributionIndexes as c}from\"../../rest/knowledgeGraph/ProtoFeatureCollection.js\";import{getWasmInterface as d}from\"../../rest/knowledgeGraph/wasmInterface/knowledgeWasmAccess.js\";import{EsriFieldTypes as p}from\"../../rest/knowledgeGraph/wasmInterface/WasmDataModelWrapperInterfaces.js\";import{WasmQuantizeOriginPositionTypeCode as f,SqlTypeCode as u,IdArrayType as m}from\"../../rest/knowledgeGraph/wasmInterface/WasmSerializedLayerData.js\";import{wasmToProtoFeatureCollection as y}from\"../../rest/knowledgeGraph/wasmInterface/wasmToFeatureFactories.js\";function w(e){if(!e.spatialReference.isWGS84)throw new t(\"knowledge-graph:layer-support-utils\",\"The extentToInBoundsRings function only supports WGS84 spatial references.\");return e.clone().normalize().map((e=>[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]))}async function h(e,t){const r=[],n=new Map,s=[];if(t.dataModel?.relationshipTypes)for(const i of t.dataModel.relationshipTypes)i.name&&n.set(i.name,[]);for(const i of e)n.has(i.typeName)&&n.get(i.typeName)?.push(i.id);for(const[o,l]of n){if(l.length<1)continue;const e=new a({openCypherQuery:`MATCH (n)-[r:${o}]->(m) WHERE id(r) in $ids RETURN id(n), labels(n)[0], id(m), labels(m)[0]`,bindParameters:{ids:l}});s.push(i(t,e).then((async e=>{const t=e.resultRowsStream.getReader();for(;;){const{done:e,value:n}=await t.read();if(e)break;for(const t of n)r.push({id:t[0],typeName:t[1]}),r.push({id:t[2],typeName:t[3]})}})))}return await Promise.all(s),r}async function _(e,t){const r=new Map,n=new Map,s=[];if(t.dataModel?.relationshipTypes)for(const i of t.dataModel.relationshipTypes)i.name&&n.set(i.name,[]);for(const i of e)n.has(i.typeName)&&n.get(i.typeName)?.push(i.id);for(const[o,l]of n){if(l.length<1)continue;const e=new a({openCypherQuery:`MATCH (n)-[r:${o}]->(m) WHERE id(r) in $ids RETURN id(r), id(n), id(m)`,bindParameters:{ids:l}});s.push(i(t,e).then((async e=>{const t=e.resultRowsStream.getReader();for(;;){const{done:e,value:n}=await t.read();if(e)break;for(const t of n)r.set(t[0],[t[1],t[2]])}})))}return await Promise.all(s),r}async function g(e){const t=[],r={generateAllSublayers:!1,namedTypeDefinitions:new Map};return e.entitiesUrl&&t.push(F(e.entitiesUrl).then((e=>{C(e,r)}))),e.relationshipsUrl&&t.push(F(e.relationshipsUrl).then((e=>{C(e,r)}))),e.idCollectionsUrl&&t.push(I(e.idCollectionsUrl).then((e=>{D(e,r)}))),await Promise.all(t),r}async function T(e,t){t??=!1;const r={generateAllSublayers:t,namedTypeDefinitions:new Map};return await I(e).then((e=>{D(e,r)})),r}async function b(e,t,r){const n=await d(),s=new n.FeatureCollection,i=new n.FeatureCollection;try{k(s,n,e,\"entities\",t,r),k(i,n,e,\"relationships\",t,r);const a=new n.FeatureCollectionEncoder,o=new n.FeatureCollectionEncoder,l=R(s,a),c=structuredClone(l),d=R(i,o),p={entitiesFC:c,relationshipsFC:structuredClone(d),idCollections:await E(e)};return a.delete(),o.delete(),p}finally{s.delete(),i.delete()}}async function E(e){const r=await d(),n=new r.MapOfObjectIdentifierSets;M(n,r,e);const s=new r.MapOfObjectIdentifierSetsEncoder;try{s.set_map_of_identifier_sets(n),s.encode();const e=s.get_encoding_result();if(0!==e.error.error_code)throw new t(\"knowledge-graph:layer-support-utils\",e.error.error_message);const r=structuredClone(e.get_byte_buffer());return s.delete(),r}finally{n.delete()}}function k(e,t,r,s,i,a){e.version=\"\";const l=new t.QueryResult,d=new t.FeatureResult,m=\"entities\"===s?c:o;d.unique_id_field={name:m[m.ELEMENTUID],isSystemMaintained:!1},d.globalid_field_name=m[m.ELEMENTUID],d.geohash_field_name=\"\",d.geometry_properties={shapeAreaFieldName:\"\",shapeLengthFieldName:\"\",units:\"\"},d.spatial_reference={wkid:4326,latestWkid:4326,vcsWkid:0,latestVcsWkid:0,wkt:\"\"},d.exceeded_transfer_limit=!1,d.has_z=!1,d.has_m=!1,d.transform={quantizeOriginPosition:{value:f.upperLeft},scale:{xScale:1e-9,yScale:1e-9,mScale:1e-4,zScale:1e-4},translate:{xTranslate:-400,yTranslate:-400,mTranslate:-1e5,zTranslate:-1e5}};for(const n of Object.keys(m).filter((e=>isNaN(Number(e))))){const e=new t.Field;if(e.name=n,e.alias=n,e.sql_type={value:u.sqlTypeBigInt},\"entities\"===s)switch(n){case m[m.ELEMENTUID]:case m[m.TYPENAME]:e.field_type={value:p.esriFieldTypeString}}else switch(n){case m[m.ELEMENTUID]:case m[m.TYPENAME]:case o[o.FROMUID]:case o[o.TOUID]:e.field_type={value:p.esriFieldTypeString}}e.domain=\"\",d.add_field(e),e.delete()}const y=new Map;for(const n of i.dataModel.entityTypes)y.set(n.name,\"entities\");for(const n of i.dataModel.relationshipTypes)y.set(n.name,\"relationships\");for(const[c,p]of r.namedTypeDefinitions)if(s===y.get(c))for(const e of p.members.values()){const r=new t.Feature;for(const n of Object.keys(m).filter((e=>isNaN(Number(e)))))if(\"entities\"===s)switch(n){case m[m.ELEMENTUID]:r.add_attribute(e.id,t.esriFieldType.esriFieldTypeString);break;case m[m.TYPENAME]:r.add_attribute(c,t.esriFieldType.esriFieldTypeString)}else switch(n){case m[m.ELEMENTUID]:r.add_attribute(e.id,t.esriFieldType.esriFieldTypeString);break;case o[o.FROMUID]:r.add_attribute(a.has(e.id)?a.get(e.id)[0]:\"\",t.esriFieldType.esriFieldTypeString);break;case o[o.TOUID]:r.add_attribute(a.has(e.id)?a.get(e.id)[1]:\"\",t.esriFieldType.esriFieldTypeString);break;case m[m.TYPENAME]:r.add_attribute(c,t.esriFieldType.esriFieldTypeString)}let i;if(e.linkChartLocation&&\"x\"in e.linkChartLocation?i=n(e.linkChartLocation):e.linkChartLocation&&(i=e.linkChartLocation),e.linkChartLocation&&i){const e=new t.FeatureCollectionGeometry;switch(s){case\"entities\":e.geometry_type=t.esriGeometryType.esriGeometryPoint;break;case\"relationships\":e.geometry_type=t.esriGeometryType.esriGeometryPolyline}e.coords=new Float64Array(i.coords),e.lengths=new Uint32Array(i.lengths),r.set_compressed_geometry(e),e.delete()}d.add_feature(r),r.delete()}switch(s){case\"entities\":d.geometry_type=t.esriGeometryType.esriGeometryPoint;break;case\"relationships\":d.geometry_type=t.esriGeometryType.esriGeometryPolyline}return l.set_feature_result(d),e.set_query_result(l),d.delete(),l.delete(),e}function M(e,t,r){for(const[n,s]of r.namedTypeDefinitions){if(!s.members||s.useAllData)continue;const r=s.members.keys(),i=new t.GlobalIdArray,a=new t.ObjectIdentifierSet;for(const e of r)i.add_globalid(e);a.set_globalid_array(i),i.delete(),e.put_identifier_set(n,a),a.delete()}return e}async function F(t){const r=await e(t,{responseType:\"array-buffer\"});return N(await r.data)}async function N(e){const r=new((await d()).FeatureCollectionDecoder),n=r.decode(new Uint8Array(e));if(0!==n.error_code)throw new t(\"knowledge-graph:layer-support-utils\",n.error_message);const s=r.get_feature_collection(),i=y(s);return r.delete(),i}async function I(t){const r=await e(t,{responseType:\"array-buffer\"}),n=await r.data;return A(new Uint8Array(n))}async function A(e){const r=new((await d()).MapOfObjectIdentifierSetsDecoder),n=r.decode(new Uint8Array(e)),s=new Map;if(0!==n.error_code)throw new t(\"knowledge-graph:layer-support-utils\",n.error_message);const i=r.get_map_of_identifier_sets(),a=i.keys,o=a.size();for(let l=0;l<o;l++){const e=a.get(l),r=i.query_identifier_set(e),n=[];if(r.id_array_type.value===m.GLOBALID_ARRAY){const e=r.get_globalid_array(),t=e.count();for(let r=0;r<t;r++)n.push(e.get_globalid_at(r))}else{if(r.id_array_type.value!==m.IDENTIFIER_ARRAY)throw new t(\"knowledge-graph:layer-support-utils\",\"Tried to encode an unexpected ID Array type.\");{const e=r.get_identifier_array(),t=e.count();for(let r=0;r<t;r++)n.push(e.get_identifier_at(r).toString())}}s.set(e,n)}return r.delete(),s}function C(e,t){if(!e?.queryResult?.featureResult)return t;const n=e.queryResult.featureResult.fieldNameToAttributeIndexMap;for(const i of e.queryResult.featureResult.features){const e=i.attributes[n[l.TYPENAME]],a=r(t.namedTypeDefinitions,e,(()=>({useAllData:!1,members:new Map}))),o=i.attributes[n[l.ELEMENTUID]];i.compressedGeometry?.coords?.length>0?a.members.set(o,{id:o,linkChartLocation:new s(i.compressedGeometry.lengths,i.compressedGeometry.coords)}):a.members.set(o,{id:o})}return t}function D(e,t){for(const[n,s]of e){const e=r(t.namedTypeDefinitions,n,(()=>({useAllData:!1,members:new Map})));for(const t of s)e.members.has(t)||e.members.set(t,{id:t})}return t}const R=(e,r)=>{r.set_feature_collection(e),r.encode();const n=r.get_encoding_result();if(0!==n.error.error_code)throw new t(\"knowledge-graph:layer-support-utils\",n.error.error_message);return n.get_byte_buffer()};export{C as addFeatureCollectionToInclusionDefinition,D as addIdMapToInclusionDefinition,N as deserializeFeatureCollection,A as deserializeIdCollectionMap,w as extentToInBoundsRings,T as fetchAndConvertSerializedKgIdMap,g as fetchAndConvertSerializedLinkChart,F as fetchAndDeserializeFeatureCollection,I as fetchAndDeserializeIdCollectionMap,h as getRelationshipEndNodeIds,_ as getRelationshipEndNodeMap,b as serializeInclusionDefinitionToAllPbf,E as serializeInclusionDefinitionToIdCollectionsMapPbf};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{convertFromGeometry as e}from\"../graphics/featureConversionUtils.js\";import{OptimizedFeature as t}from\"../graphics/OptimizedFeature.js\";import{fromJSON as r}from\"../../geometry/support/jsonUtils.js\";const i=\"ESRI__DESTINATION_ID\",s=\"ESRI__ORIGIN_ID\";class o{constructor(){this._featureLookup=new Map}static getInstance(){return o.instance||(o.instance=new o),o.instance}static resetInstance(){o.instance&&(o.instance=null)}deleteFromStore(e){e.forEach((e=>{this._featureLookup.delete(e)}))}readFromStoreByList(e){const t=[];return e.forEach((e=>{const r=this.readFromStoreById(e);r&&t.push(r)})),t}readFromStoreById(e){return this._featureLookup.get(e)??null}writeToStore(o,n,p){const a=[];return o.forEach((o=>{if(!o?.id)return;o.properties||(o.properties=[]);let u,c=null;if(p&&o.properties[p]&&(c=e(o.properties[p])),\"originId\"in o&&\"destinationId\"in o&&(o.properties[s]=o.originId,o.properties[i]=o.destinationId),o.properties[n]=o.id,o.id&&this._featureLookup.has(o.id)&&this._featureLookup.get(o.id).attributes){const e=this._featureLookup.get(o.id),i=JSON.parse(JSON.stringify(Object.assign(e.attributes,o.properties)));p&&o.properties[p]&&(i[p]=r(o.properties[p])),u=new t(c?JSON.parse(JSON.stringify(c)):e?.geometry?JSON.parse(JSON.stringify(e.geometry)):null,i,null,o.properties[n])}else u=new t(c?JSON.parse(JSON.stringify(c)):null,o.properties,null,o.properties[n]);this._featureLookup.set(o.id,u),a.push(u)})),a}}export{o as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import t from\"../../core/Accessor.js\";import i from\"../../core/Error.js\";import n from\"../../core/Logger.js\";import{getOrCreateMapValue as o}from\"../../core/MapUtils.js\";import{parseWhereClause as s}from\"../../core/sql.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import p from\"../../geometry/Polygon.js\";import{initializeProjection as d,project as m}from\"../../geometry/projection.js\";import{wgs84 as l}from\"../../geometry/support/spatialReferenceUtils.js\";import h from\"./SessionMemoryStorage.js\";import{extentToInBoundsRings as c}from\"./supportUtils.js\";import{executeQueryStreaming as y}from\"../../rest/knowledgeGraphService.js\";import u from\"../../rest/knowledgeGraph/GraphQueryStreaming.js\";import f from\"../../rest/support/Query.js\";import g from\"../../geometry/Extent.js\";const w=\"ESRI__ID\",b=\"ESRI__ORIGIN_ID\",T=\"ESRI__DESTINATION_ID\",D=\"ESRI__LAYOUT_GEOMETRY\",I=\"ESRI__AGGREGATION_COUNT\";let M=class extends t{constructor(e){super(e),this._processingCacheUpdatesLookup=new Map,this.knowledgeGraph=null,this.inclusionModeDefinition={generateAllSublayers:!0,namedTypeDefinitions:new Map},this.entityTypeNames=new Set,this.relationshipTypeNames=new Set,this.geographicLookup=new Map,this.sublayerCaches=new Map,this.nodeConnectionsLookup=new Map,this.relationshipConnectionsLookup=new Map,this.memberIdTypeLookup=new Map;const t=new Map;e.knowledgeGraph.dataModel.entityTypes?.forEach((i=>{i.name&&(t.set(i.name,\"entity\"),this._processingCacheUpdatesLookup.set(i.name,[]),e.inclusionModeDefinition&&!e.inclusionModeDefinition?.generateAllSublayers||this.entityTypeNames.add(i.name),i.properties?.forEach((e=>{e.geometryType&&\"esriGeometryNull\"!==e.geometryType&&this.geographicLookup.set(i.name,{name:e.name??\"\",geometryType:e.geometryType})})))})),e.knowledgeGraph.dataModel.relationshipTypes?.forEach((i=>{i.name&&(t.set(i.name,\"relationship\"),this._processingCacheUpdatesLookup.set(i.name,[]),e.inclusionModeDefinition&&!e.inclusionModeDefinition?.generateAllSublayers||this.relationshipTypeNames.add(i.name),i.properties?.forEach((e=>{e.geometryType&&\"esriGeometryNull\"!==e.geometryType&&this.geographicLookup.set(i.name,{name:e.name??\"\",geometryType:e.geometryType})})))})),e.inclusionModeDefinition?.namedTypeDefinitions.forEach(((i,s)=>{if(\"entity\"===t.get(s))this.entityTypeNames.add(s);else{if(\"relationship\"!==t.get(s))return n.getLogger(this).warn(`A named type, ${s}, was in the inclusion list that wasn't in the data model and will be removed`),void e.inclusionModeDefinition?.namedTypeDefinitions.delete(s);this.relationshipTypeNames.add(s)}const r=new Map;i.members?.forEach((e=>{o(this.memberIdTypeLookup,e.id,(()=>new Set)).add(s);const t=this.getById(e.id);t&&r.set(e.id,t)})),this.sublayerCaches.set(s,r)}))}addToLayer(e){e.forEach((({typeName:e,id:t})=>{if(!this.inclusionModeDefinition)throw new i(\"knowledge-graph:layer-data-manager\",\"You cannot add to a layer's exclusion list if it was not created with an exclusion list originally\");if(this.inclusionModeDefinition.namedTypeDefinitions.has(e)){if(this.inclusionModeDefinition.namedTypeDefinitions.has(e)){const i=this.inclusionModeDefinition.namedTypeDefinitions.get(e);i.members||(i.members=new Map),i.members.set(t,{id:t}),o(this.memberIdTypeLookup,t,(()=>new Set)).add(e)}}else{const i=new Map;i.set(t,{id:t}),this.inclusionModeDefinition.namedTypeDefinitions.set(e,{useAllData:!1,members:i}),o(this.memberIdTypeLookup,t,(()=>new Set)).add(e)}}))}getById(e){return h.getInstance().readFromStoreById(e)}async getData(e,t,i){if(t.objectType.name&&this.inclusionModeDefinition?.namedTypeDefinitions&&this.inclusionModeDefinition.namedTypeDefinitions.size>0&&!this.inclusionModeDefinition.namedTypeDefinitions.has(t.objectType.name))return[];let n;if(n=e||new f({where:\"1=1\",outFields:[\"*\"]}),\"link-chart\"===t.parentCompositeLayer.type){const e=t.parentCompositeLayer,i=this._processingCacheUpdatesLookup.get(t.objectType.name??\"\"),o=n.outFields;o&&1===o.length&&o[0]===w&&\"1=1\"===n.where||await Promise.all(i??[]);const s=this.sublayerCaches.has(t.objectType.name??\"\")?Array.from(this.sublayerCaches.get(t.objectType.name)?.values()):[],r=[];return s.forEach((i=>{this.relationshipTypeNames.has(t.objectType.name)?i.geometry=e.relationshipLinkChartDiagramLookup.get(i.attributes[t.objectIdField]):i.geometry=e.entityLinkChartDiagramLookup.get(i.attributes[t.objectIdField]),i.attributes[D]=i.geometry,r.push(i)})),r}return this.retrieveDataFromService(n,t,i)}async getConnectedRecordIds(e,t){const i=[];let o=\"\";const s=[],r=new Map;if(e.forEach((e=>{if(this.memberIdTypeLookup.has(e))for(const t of this.memberIdTypeLookup.get(e)){if(!this.entityTypeNames.has(t))return;r.has(t)?r.get(t)?.push(e):r.set(t,[e])}})),t&&0!==t?.length){for(const e of t)o=o+e+\"|\";o=o.slice(0,-1)}return r.forEach(((e,r)=>{let a;a=t&&0!==t?.length?`MATCH (n:${r})-[r:${o}]-(m) WHERE id(n) IN $ids RETURN id(r), type(r), id(m), labels(m)[0]`:`MATCH (n:${r})-[r]-(m) WHERE id(n) IN $ids RETURN id(r), type(r), id(m), labels(m)[0]`;const p=new Promise((t=>{(async()=>{const t=(await y(this.knowledgeGraph,new u({openCypherQuery:a,bindParameters:{ids:e}}))).resultRowsStream.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;for(let t=0;t<n.length;t++){const e=n[t];i.push({id:e[0],typeName:e[1]}),i.push({id:e[2],typeName:e[3]})}}}catch(o){if(\"AbortError\"!==o.name)throw o;n.getLogger(this).info(\"Request aborted as expected\")}})().then((()=>{t()}))}));s.push(p)})),this.refreshCacheContent(),await Promise.all(s),i}async getAttachedRelationships(e,t){const i=[],o=\"MATCH (n)-[r]->(m) WHERE id(n) IN $nodeIds AND id(m) in $nodeIds AND NOT id(r) IN $relationshipExclusionIds return id(r), type(r)\",s=(await y(this.knowledgeGraph,new u({openCypherQuery:o,bindParameters:{nodeIds:e,relationshipExclusionIds:t}}))).resultRowsStream.getReader();try{for(;;){const{done:e,value:t}=await s.read();if(e)break;for(let n=0;n<t.length;n++){const e=t[n];i.push({id:e[0],typeName:e[1]})}}}catch(r){if(\"AbortError\"!==r.name)throw r;n.getLogger(this).info(\"Request aborted as expected\")}return i}async refreshCacheContent(e,t,n,s=!0){const r=h.getInstance(),a=[],p=new Map,d=new Map;this.knowledgeGraph.dataModel.entityTypes?.forEach((e=>{e.name&&d.set(e.name,e)})),this.knowledgeGraph.dataModel.relationshipTypes?.forEach((e=>{e.name&&d.set(e.name,e)})),e||this.inclusionModeDefinition?e?e.forEach((e=>{if(this.memberIdTypeLookup.has(e))for(const t of this.memberIdTypeLookup.get(e))p.has(t)?p.get(t)?.push(e):p.set(t,[e])})):this.inclusionModeDefinition?.namedTypeDefinitions?.forEach(((e,t)=>{e.useAllData?p.set(t,null):e.members&&e.members.forEach((e=>{p.has(t)&&null!==p.get(t)?p.get(t)?.push(e.id):p.set(t,[e.id])}))})):(this.knowledgeGraph.dataModel.entityTypes?.forEach((e=>{e.name&&p.set(e.name,null)})),this.knowledgeGraph.dataModel.entityTypes?.forEach((e=>{e.name&&p.set(e.name,null)})));for(const[m,l]of p){const e=new Promise((e=>{const a=async()=>{const e=new Set,a=[];let p,h=\"\",c=!1;if(t||d.get(m)?.properties?.forEach((t=>{t.name&&e.add(t.name)})),n&&this.geographicLookup.has(m)){const t=this.geographicLookup.get(m)?.name;t&&e.add(t)}if(this.entityTypeNames.has(m))h=`MATCH (n:${m}) ${l?\"WHERE id(n) IN $ids \":\"\"}return ID(n)`,e.forEach((e=>{h+=`, n.${e}`,a.push(e)}));else{if(!this.relationshipTypeNames.has(m))throw new i(\"knowledge-graph:layer-data-manager\",`The graph type of ${m} could not be determined. Was this type set in the KG data model and inclusion definition?`);c=!0,h=`MATCH ()-[n:${m}]->() ${l?\"WHERE id(n) IN $ids \":\"\"}return ID(n), id(startNode(n)), id(endNode(n))`,e.forEach((e=>{h+=`, n.${e}`,a.push(e)}))}p=new u(l?{openCypherQuery:h,bindParameters:{ids:l}}:{openCypherQuery:h});const f=(await y(this.knowledgeGraph,p)).resultRowsStream.getReader();for(;;){const{done:e,value:t}=await f.read();if(e)break;const i=[];for(let s=0;s<t.length;s++){const e=t[s];let n=0,r=0;const p={properties:{}};for(p.id=e[n],n++,r++,c&&(p.originId=e[n],n++,r++,p.destinationId=e[n],n++,r++,o(this.nodeConnectionsLookup,p.originId,(()=>new Set)).add(p.id),o(this.nodeConnectionsLookup,p.destinationId,(()=>new Set)).add(p.id),o(this.relationshipConnectionsLookup,p.id,(()=>[p.originId,p.destinationId])));n<e.length;n++)p.properties[a[n-r]]=e[n];i.push(p)}const n=r.writeToStore(i,w,this.geographicLookup.get(m)?.name);this.sublayerCaches.has(m)||this.sublayerCaches.set(m,new Map),s&&!this.inclusionModeDefinition?.namedTypeDefinitions.has(m)&&this.inclusionModeDefinition?.namedTypeDefinitions.set(m,{useAllData:!1,members:new Map}),s&&!this.inclusionModeDefinition?.namedTypeDefinitions.get(m).members&&(this.inclusionModeDefinition.namedTypeDefinitions.get(m).members=new Map);const p=this.sublayerCaches.get(m);n.forEach((e=>{p?.set(e.attributes[w],e),s&&!this.inclusionModeDefinition?.namedTypeDefinitions.get(m).members.has(e.attributes[w])&&(this.inclusionModeDefinition?.namedTypeDefinitions.get(m).members.set(e.attributes[w],{id:e.attributes[w]}),o(this.memberIdTypeLookup,e.attributes[w],(()=>new Set)).add(m))}))}};a().then((()=>{e(null)}))}));a.push(e),this._processingCacheUpdatesLookup.get(m)?.push(e)}await Promise.all(a)}removeFromLayer(e){const t=new Set,i=new Set(e.map((e=>e.id)));for(const n of e)t.add(n.typeName),1===this.memberIdTypeLookup.get(n.id)?.size?this.memberIdTypeLookup.delete(n.id):this.memberIdTypeLookup.get(n.id)?.delete(n.typeName),this.inclusionModeDefinition?.namedTypeDefinitions.forEach(((e,t)=>{t===n.typeName&&e.members?.has(n.id)&&e.members.delete(n.id)}));t.forEach((e=>{this.sublayerCaches.get(e)?.forEach(((t,n)=>{i.has(n)&&this.sublayerCaches.get(e)?.delete(n)}))}))}async retrieveDataFromService(e,t,n){const o=h.getInstance(),r=new Set,a=[];let f,b=\"\",T=[];const D=\"relationship\"===t.graphType,I=this.inclusionModeDefinition?.namedTypeDefinitions?.get(t.objectType.name)?.useAllData,M=t.parentCompositeLayer.sublayerIdsCache.get(t.objectType.name);let E=!I&&M?Array.from(M).sort():null;if(this.inclusionModeDefinition?.namedTypeDefinitions?.get(t.objectType.name)?.useAllData)this.inclusionModeDefinition?.namedTypeDefinitions?.get(t.objectType.name)?.useAllData&&null!=e.objectIds&&(E=e.objectIds);else if(null!=e.objectIds&&E&&E.length>0){const t=e.objectIds;e.objectIds=E.filter((e=>t.includes(e)))}else if(null!=e.objectIds)E=e.objectIds;else{if(this.inclusionModeDefinition?.namedTypeDefinitions.has(t.objectType.name)&&(!this.inclusionModeDefinition.namedTypeDefinitions.get(t.objectType.name)?.members||this.inclusionModeDefinition.namedTypeDefinitions.get(t.objectType.name)?.members?.size<1))return e.objectIds=[],[];e.objectIds=E}if(null!=e.outFields){const i=e.outFields;i.includes(\"*\")?t.fields.forEach((e=>{r.add(e.name)})):i.forEach((e=>{e!==w&&e!==t.geometryFieldName&&r.add(e)}))}if(null!=e.geometry){const n=e.geometry;let o;const h=t.parentCompositeLayer.dataManager.knowledgeGraph.serviceDefinition,y=h?.spatialReference,w=h?.serviceCapabilities?.geometryCapabilities;let T=w?.geometryMaxBoundingRectangleSizeX,I=w?.geometryMaxBoundingRectangleSizeY;if(n?.extent?.spatialReference&&!n.spatialReference?.isWGS84?(await d(n.extent.spatialReference,l),o=m(n.extent,l)):o=n.extent,T&&I&&y){if(4326!==y.wkid){const e=new g({spatialReference:y,xmax:T,ymax:I}),t=m(e,l);T=t.xmax,I=t.ymax}if(o.xmax-o.xmin>T)throw new i(\"knowledge-graph:layer-data-manager\",`Extent x bounds should be within ${T}° latitude, limit exceeded`);if(o.ymax-o.ymin>I)throw new i(\"knowledge-graph:layer-data-manager\",`Extent y bounds should be within ${I}° longitude, limit exceeded`)}if(null!=e.where&&\"1=1\"!==e.where){const i=await s(e.where.toUpperCase(),t.fieldsIndex);t.fields.forEach((e=>{i.fieldNames.includes(e.name)&&r.add(e.name)}))}b=D?`Match ()-[n:${t.objectType.name}]->() WHERE esri.graph.ST_Intersects($param_filter_geom, n.${t.geometryFieldName}) return ID(n), id(startNode(r)), id(endNode(r))`:`Match (n:${t.objectType.name}) WHERE esri.graph.ST_Intersects($param_filter_geom, n.${t.geometryFieldName}) return ID(n)`,t.geometryFieldName&&r.add(t.geometryFieldName),r.forEach((e=>{b+=`, n.${e}`,a.push(e)})),f=new u({openCypherQuery:b,bindParameters:{param_filter_geom:new p({rings:c(o)})}})}else{let i=\"\";if(null!=e.where&&\"1=1\"!==e.where){const n=await s(e.where,t.fieldsIndex);t.fields.forEach((e=>{n.fieldNames.includes(e.name)&&r.add(e.name)}));const o=new Set([\"column-reference\",\"string\",\"number\",\"binary-expression\"]),a=new Set([\"=\",\"<\",\"<=\",\"<>\",\">\",\">=\",\"AND\",\"OR\",\"LIKE\"]);let p=!1;const d=e=>{if(\"column-reference\"===e.type)return`n.${e.column}`;if(\"string\"===e.type)return`'${e.value}'`;if(\"number\"===e.type)return`${e.value}`;if(\"binary-expression\"===e.type&&o.has(e.left.type)&&o.has(e.right.type)&&a.has(e.operator))return`${d(e.left)} ${e.operator} ${d(e.right)}`;if(\"binary-expression\"===e.type&&\"LIKE\"===e.operator){let t=\"\";if(\"function\"===e.left.type&&\"column-reference\"===e.left.args.value[0].type)t+=`lower(n.${e.left.args.value[0].column})`;else{if(\"column-reference\"!==e.left.type)return p=!0,\"\";t+=`lower(n.${e.left.column})`}if(t+=\" CONTAINS (\",\"string\"!==e.right.type)return p=!0,\"\";{let i=e.right.value;\"%\"===i.charAt(0)&&(i=i.slice(1)),\"%\"===i.charAt(i.length-1)&&(i=i.slice(0,-1)),t+=`'${i.toLowerCase()}')`}return t}return p=!0,\"\"};i=d(n.parseTree),p&&(i=\"\")}let n=\"\";n=D?`Match ()-[n:${t.objectType.name}]->()`:`Match (n:${t.objectType.name})`;let o=!1;E&&(o=!0,n+=\" WHERE ID(n) IN $ids\"),i&&(n+=o?\" AND\":\" WHERE\",n+=` ${i}`),n+=\" return ID(n)\",D&&(n+=\", id(startNode(n)), id(endNode(n))\"),e.returnGeometry&&t.geometryFieldName&&r.add(t.geometryFieldName),r.forEach((e=>{n+=`, n.${e}`,a.push(e)})),f=new u(E?{openCypherQuery:n,bindParameters:{ids:E}}:{openCypherQuery:n})}const k=(await y(t.parentCompositeLayer.dataManager.knowledgeGraph,f,n)).resultRowsStream.getReader();for(;;){const{done:e,value:i}=await k.read();if(e)break;const n=[];for(let t=0;t<i.length;t++){const e=i[t];let o=0,s=0;const r={properties:{}};for(r.id=e[o],o++,s++,D&&(r.originId=e[o],o++,s++,r.destinationId=e[o],o++,s++);o<e.length;o++)r.properties[a[o-s]]=e[o];n.push(r)}T=T.concat(o.writeToStore(n,w,t.parentCompositeLayer.dataManager.geographicLookup.get(t.objectType.name)?.name))}return T}};e([r()],M.prototype,\"knowledgeGraph\",void 0),e([r()],M.prototype,\"inclusionModeDefinition\",void 0),e([r()],M.prototype,\"entityTypeNames\",void 0),e([r()],M.prototype,\"relationshipTypeNames\",void 0),e([r()],M.prototype,\"geographicLookup\",void 0),e([r()],M.prototype,\"sublayerCaches\",void 0),e([r()],M.prototype,\"nodeConnectionsLookup\",void 0),e([r()],M.prototype,\"relationshipConnectionsLookup\",void 0),e([r()],M.prototype,\"memberIdTypeLookup\",void 0),M=e([a(\"esri.layers.knowledgeGraph.KnowledgeGraphLayerDataManager\")],M);export{M as KnowledgeGraphLayerDataManager,I as mockAggregationCountFieldName,T as mockDestinationIdFieldName,D as mockLayoutGeometryFieldName,w as mockOidFieldName,b as mockOriginIdFieldName};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import{defineFieldProperties as s}from\"../support/fieldProperties.js\";const t=s(),p=s=>{let p=class extends s{constructor(){super(...arguments),this.fields=[],this.fieldsIndex=null}};return r([o(t.fields)],p.prototype,\"fields\",void 0),r([o(t.fieldsIndex)],p.prototype,\"fieldsIndex\",void 0),p=r([e(\"esri.layers.knowledgeGraph.KnowledgeGraphSublayerBase\")],p),p};export{p as KnowledgeGraphSublayerBase};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import t from\"../../PopupTemplate.js\";import\"../../renderers/ClassBreaksRenderer.js\";import\"../../renderers/DictionaryRenderer.js\";import\"../../renderers/DotDensityRenderer.js\";import\"../../renderers/HeatmapRenderer.js\";import\"../../renderers/PieChartRenderer.js\";import\"../../renderers/Renderer.js\";import\"../../renderers/SimpleRenderer.js\";import\"../../renderers/UniqueValueRenderer.js\";import{fromJSON as r}from\"../../renderers/support/jsonUtils.js\";import{rendererTypes as o}from\"../../renderers/support/types.js\";import{clone as i}from\"../../core/lang.js\";import{MultiOriginJSONMixin as n}from\"../../core/MultiOriginJSONSupport.js\";import\"../../core/workers/workers.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import{OriginId as l}from\"../../core/accessorSupport/PropertyOrigin.js\";import{initializeProjection as u,project as y}from\"../../geometry/projection.js\";import d from\"../../geometry/SpatialReference.js\";import{wgs84 as m}from\"../../geometry/support/spatialReferenceUtils.js\";import c from\"../Layer.js\";import h from\"../graphics/data/FeatureStore.js\";import{QueryEngine as g}from\"../graphics/data/QueryEngine.js\";import{createCapabilities as f,createDrawingInfo as j}from\"../graphics/sources/support/clientSideDefaults.js\";import{mockOidFieldName as b,mockAggregationCountFieldName as w,mockLayoutGeometryFieldName as S}from\"./KnowledgeGraphLayerDataManager.js\";import{KnowledgeGraphSublayerBase as T}from\"./KnowledgeGraphSublayerBase.js\";import{BlendLayer as v,blendModeProperty as O,effectProperty as x}from\"../mixins/BlendLayer.js\";import{FeatureEffectLayer as E,featureEffectProperty as L}from\"../mixins/FeatureEffectLayer.js\";import{FeatureReductionLayer as F}from\"../mixins/FeatureReductionLayer.js\";import{OrderedLayer as N,orderByProperty as R}from\"../mixins/OrderedLayer.js\";import{RefreshableLayer as Q}from\"../mixins/RefreshableLayer.js\";import{ScaleRangeLayer as I}from\"../mixins/ScaleRangeLayer.js\";import{TemporalLayer as C,useViewTimeProperty as M}from\"../mixins/TemporalLayer.js\";import{labelsVisible as J,legendEnabled as k,maxScale as q,minScale as _,opacity as P,popupEnabled as D}from\"../support/commonProperties.js\";import{featureReductionProperty as G}from\"../support/featureReductionUtils.js\";import U from\"../support/Field.js\";import{fixRendererFields as V}from\"../support/fieldUtils.js\";import Z from\"../support/LabelClass.js\";import{reader as B}from\"../support/labelingInfo.js\";import K from\"../../rest/support/FeatureSet.js\";import W from\"../../rest/support/Query.js\";import{createPopupTemplate as z}from\"../../support/popupUtils.js\";import A from\"../../core/workers/RemoteClient.js\";import H from\"../../geometry/Extent.js\";import X from\"../../geometry/Polygon.js\";import Y from\"../../geometry/Polyline.js\";import{featureGeometryTypeKebabDictionary as $}from\"../../geometry/support/typeUtils.js\";function ee(e){if(!e.json)return e;e.json.write=te(e.json.write);const t=e.json.origins;if(!t)return e;let r;for(r in t){const e=t[r];e&&(e.write=te(e.write))}return e}function te(e){return\"object\"==typeof e&&e?(!1!==e.enabled&&(e.overridePolicy=re(e)),e):!0===e?oe():e}function re(e){const{target:t,writer:r,overridePolicy:o,...i}=e;return function(e,t){const r=ie.call(this,e,t);return r.enabled?{...i,...r}:r}}function oe(){return{overridePolicy:ie}}function ie(e,t){const r=!!this.geometryType;let o={enabled:r};return r&&(o={...o,...ne.call(this,e,t)}),o}function ne(e,t){return{ignoreOrigin:this.originIdOf(t)>l.DEFAULTS}}let se=class extends(T(F(E(v(N(C(I(Q(n(c)))))))))){constructor(e){super(e),this.blendMode=\"normal\",this.capabilities=f(!1,!1),this.charts=null,this.definitionExpression=null,this.displayField=\"\",this.effect=null,this.elevationInfo=null,this.featureEffect=null,this.graphType=null,this.labelsVisible=!0,this.labelingInfo=null,this.layerType=null,this.legendEnabled=!0,this.maxScale=0,this.minScale=0,this.objectIdField=b,this.objectType=null,this.opacity=1,this.orderBy=null,this.parentCompositeLayer=null,this.persistenceEnabled=!0,this.popupEnabled=!0,this.popupTemplate=null,this.refreshInterval=0,this.source={openPorts:()=>this.load().then((()=>{const e=new MessageChannel;return new A(e.port1,{channel:e,client:{queryFeatures:(e,t={})=>{const r=W.fromJSON(e);return this.queryFeaturesJSON(r,t)}}}),[e.port2]}))},this.title=null,this.type=\"knowledge-graph-sublayer\",this.useViewTime=!0,this.visible=!0}get defaultPopupTemplate(){return this.createPopupTemplate()}set featureReduction(e){const t=this._normalizeFeatureReduction(e);this._set(\"featureReduction\",t)}get fields(){const e=[];return this.objectType?.properties?.forEach((t=>{const r=\"esriFieldTypeOID\"===t.fieldType?\"esriFieldTypeInteger\":t.fieldType;e.push(U.fromJSON({name:t.name,type:r,alias:t.alias,defaultValue:t.defaultValue,editable:t.editable,nullable:t.nullable}))})),e.push(U.fromJSON({name:this.objectIdField,type:\"esriFieldTypeString\",alias:this.objectIdField,editable:!1}),U.fromJSON({name:w,type:\"esriFieldTypeInteger\",alias:w,editable:!1})),e}get geometryType(){if(\"link-chart\"===this.parentCompositeLayer?.type)return\"relationship\"===this.graphType?\"polyline\":\"point\";const e=this.parentCompositeLayer?.dataManager.geographicLookup.get(this.objectType?.name),t=e?.geometryType;return t&&\"esriGeometryNull\"!==t?$.fromJSON(t):null}get geometryFieldName(){if(\"link-chart\"===this.parentCompositeLayer?.type)return S;const e=this.parentCompositeLayer?.dataManager.geographicLookup.get(this.objectType?.name);return e?.name??null}get graphTypeName(){return this.objectType?.name}get hasM(){const e=this.parentCompositeLayer?.dataManager.geographicLookup.get(this.objectType?.name),t=e?.name,r=t?this.objectType?.properties?.[t]:null;return r?.hasM??!1}get hasZ(){const e=this.parentCompositeLayer?.dataManager.geographicLookup.get(this.objectType?.name),t=e?.name,r=t?this.objectType?.properties?.[t]:null;return r?.hasZ??!1}set renderer(e){V(e,this.fieldsIndex),this._set(\"renderer\",e)}get renderer(){return this._isOverridden(\"renderer\")?this._get(\"renderer\"):\"link-chart\"===this.parentCompositeLayer?.type?\"relationship\"===this.graphType?r(j($.toJSON(\"polyline\")).renderer):r(j($.toJSON(\"point\")).renderer):r(j($.toJSON(this.geometryType)).renderer)}get spatialReference(){return this.parentCompositeLayer?.dataManager?.knowledgeGraph?.dataModel?.spatialReference??d.WGS84}writeTitle(e,t){t.title=e??\"Layer\"}createPopupTemplate(e){return z(this,e)}createQuery(){return new W({where:\"1=1\",outFields:[\"*\"]})}getField(e){for(let t=0;t<this.fields.length;t++)if(this.fields[t].name===e)return this.fields[t];return null}getFieldDomain(e,t){return null}async queryFeatures(e,t){const{resolvedQuery:r,queryEngine:o}=await this._setupQueryObjects(e),i=K.fromJSON(await o.executeQuery(r.toJSON(),t?.signal));return i.features.forEach((e=>{e.sourceLayer=this})),i}async queryFeaturesJSON(e,t){const{resolvedQuery:r,queryEngine:o}=await this._setupQueryObjects(e);return await o.executeQuery(r.toJSON(),t?.signal)}async queryFeatureCount(e,t){const{resolvedQuery:r,queryEngine:o}=await this._setupQueryObjects(e);return o.executeQueryForCount(r.toJSON(),t?.signal)}async queryExtent(e={},t){const r={...e,returnGeometry:!0},{resolvedQuery:o,queryEngine:i}=await this._setupQueryObjects(r),n=await i.executeQueryForExtent(o.toJSON(),t?.signal);let s;return s=null!=n.extent?.xmin&&null!=n.extent?.xmax&&null!=n.extent?.ymin&&null!=n.extent?.ymax?new H(n.extent):new H,{count:n.count,extent:s}}async queryObjectIds(e,t){const r=W.from(e);let o;if(\"link-chart\"===this.parentCompositeLayer.type&&this._cachedQueryEngine)o=this._cachedQueryEngine;else{const e=await this.parentCompositeLayer.dataManager.getData(r,this,t);o=this.loadQueryEngine(e)}return o.executeQueryForIds(r.toJSON(),t?.signal)}loadQueryEngine(e){const t=new h({geometryType:$.toJSON(this.geometryType),hasM:this.hasM,hasZ:this.hasZ}),r=new g({fieldsIndex:this.fieldsIndex.toJSON(),geometryType:$.toJSON(this.geometryType),hasM:this.hasM,hasZ:this.hasZ,objectIdField:this.objectIdField,spatialReference:this.spatialReference.toJSON(),timeInfo:null,featureStore:t});return r.featureStore.addMany(e),r}async refreshCachedQueryEngine(){const e=await this.parentCompositeLayer.dataManager.getData(new W({where:\"1=1\",outFields:[b]}),this);this._cachedQueryEngine=this.loadQueryEngine(e)}async _setupQueryObjects(e,t){const r=W.from(e),o=r.geometry;let i;if(o&&!o.spatialReference?.isWGS84&&(await u(o.spatialReference,m),r.geometry=y(o instanceof X||o instanceof Y?o:o.extent,m)),\"link-chart\"===this.parentCompositeLayer.type&&this._cachedQueryEngine)i=this._cachedQueryEngine;else{const e=await this.parentCompositeLayer.dataManager.getData(r,this,t);i=this.loadQueryEngine(e)}return{resolvedQuery:r,queryEngine:i}}};e([s(ee(i(O)))],se.prototype,\"blendMode\",void 0),e([s()],se.prototype,\"capabilities\",void 0),e([s({json:{origins:{\"web-scene\":{write:!1}},write:oe()}})],se.prototype,\"charts\",void 0),e([s({readOnly:!0})],se.prototype,\"defaultPopupTemplate\",null),e([s({type:String,json:{origins:{service:{read:!1}},name:\"layerDefinition.definitionExpression\",write:{ignoreOrigin:!0}}})],se.prototype,\"definitionExpression\",void 0),e([s()],se.prototype,\"displayField\",void 0),e([s(ee(i(x)))],se.prototype,\"effect\",void 0),e([s()],se.prototype,\"elevationInfo\",void 0),e([s(ee(i(L)))],se.prototype,\"featureEffect\",void 0),e([s(ee(i(G)))],se.prototype,\"featureReduction\",null),e([s()],se.prototype,\"fields\",null),e([s()],se.prototype,\"geometryType\",null),e([s()],se.prototype,\"geometryFieldName\",null),e([s({type:[\"entity\",\"relationship\"],nonNullable:!0,json:{write:{isRequired:!0,ignoreOrigin:!0}}})],se.prototype,\"graphType\",void 0),e([s({type:String,nonNullable:!0,json:{write:{isRequired:!0,ignoreOrigin:!0}}})],se.prototype,\"graphTypeName\",null),e([s()],se.prototype,\"hasM\",null),e([s()],se.prototype,\"hasZ\",null),e([s({type:String,json:{origins:{service:{read:!1},\"portal-item\":{read:!1}},write:{ignoreOrigin:!0}}})],se.prototype,\"id\",void 0),e([s(ee(i(J)))],se.prototype,\"labelsVisible\",void 0),e([s({type:[Z],json:{name:\"layerDefinition.drawingInfo.labelingInfo\",read:B,write:oe()}})],se.prototype,\"labelingInfo\",void 0),e([s({readOnly:!0,json:{read:!1,write:{writer(e,t){t.layerType=this.geometryType?\"KnowledgeGraphSubLayer\":\"KnowledgeGraphSubTable\"},isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}}})],se.prototype,\"layerType\",void 0),e([s(ee(i(k)))],se.prototype,\"legendEnabled\",void 0),e([s(ee(i(q)))],se.prototype,\"maxScale\",void 0),e([s(ee(i(_)))],se.prototype,\"minScale\",void 0),e([s()],se.prototype,\"objectIdField\",void 0),e([s()],se.prototype,\"objectType\",void 0),e([s(ee(i(P)))],se.prototype,\"opacity\",void 0),e([s(ee(i(R)))],se.prototype,\"orderBy\",void 0),e([s()],se.prototype,\"parentCompositeLayer\",void 0),e([s(ee(i(D)))],se.prototype,\"popupEnabled\",void 0),e([s({type:t,json:{name:\"popupInfo\",write:{ignoreOrigin:!0}}})],se.prototype,\"popupTemplate\",void 0),e([s({type:Number,json:{write:{overridePolicy:ne}}})],se.prototype,\"refreshInterval\",void 0),e([s({types:o,json:{name:\"layerDefinition.drawingInfo.renderer\",write:oe()}})],se.prototype,\"renderer\",null),e([s()],se.prototype,\"source\",void 0),e([s()],se.prototype,\"spatialReference\",null),e([s({type:String,json:{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}}})],se.prototype,\"title\",void 0),e([p(\"title\")],se.prototype,\"writeTitle\",null),e([s({json:{read:!1}})],se.prototype,\"type\",void 0),e([s(ee(i(M)))],se.prototype,\"useViewTime\",void 0),e([s({type:Boolean,json:{name:\"visibility\",write:oe()}})],se.prototype,\"visible\",void 0),se=e([a(\"esri.layers.knowledgeGraph.KnowledgeGraphSublayer\")],se);const ae=se;export{ae as default};\n"],
  "mappings": "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",
  "names": ["T", "s", "m", "d", "p", "e", "l", "s", "T", "w", "e", "h", "t", "r", "n", "s", "i", "o", "l", "T", "e", "t", "r", "E", "e", "r", "n", "s", "e", "t", "r", "n", "s", "i", "a", "t", "r", "n", "e", "s", "i", "a", "o", "l", "T", "e", "t", "n", "s", "i", "s", "o", "e", "t", "r", "n", "p", "a", "u", "c", "y", "w", "b", "T", "D", "I", "M", "e", "t", "i", "_a", "_b", "s", "r", "o", "n", "a", "p", "d", "m", "l", "_c", "_d", "_e", "_f", "_g", "h", "c", "f", "E", "y", "k", "t", "s", "p", "a", "e", "t", "r", "o", "i", "p", "c", "l", "f", "S", "w", "y", "I", "D", "n", "s", "m", "a", "j"]
}
