import {
  o
} from "./chunk-VMWKLHJD.js";
import {
  a,
  e,
  e2,
  n2 as n,
  s2 as s
} from "./chunk-YNL57W4I.js";

// ../node_modules/@arcgis/core/core/MapUtils.js
function n2(n7, t5) {
  for (const [r5, e7] of n7) if (t5(e7, r5)) return true;
  return false;
}
function r(n7, t5, r5) {
  const e7 = n7.get(t5);
  if (void 0 !== e7) return e7;
  const o12 = r5();
  return n7.set(t5, o12), o12;
}
function o2(n7) {
  const t5 = /* @__PURE__ */ new Map();
  return (r5) => (t5.has(r5) || t5.set(r5, n7(r5)), t5.get(r5));
}

// ../node_modules/@arcgis/core/core/accessorSupport/ensureType.js
var r2 = () => n.getLogger("esri.core.accessorSupport.ensureTypes");
function t(e7) {
  return null == e7 ? e7 : new Date(e7);
}
function o3(e7) {
  return null == e7 ? e7 : !!e7;
}
function u(e7) {
  return null == e7 ? e7 : e7.toString();
}
function a2(e7) {
  return null == e7 ? e7 : (e7 = parseFloat(e7), isNaN(e7) ? 0 : e7);
}
function s2(e7) {
  return null == e7 ? e7 : Math.round(parseFloat(e7));
}
function c(e7) {
  return null;
}
function i(e7) {
  return (e7 == null ? void 0 : e7.constructor) && void 0 !== e7.constructor.__accessorMetadata__;
}
function l(e7, n7) {
  return null != n7 && e7 && !(n7 instanceof e7);
}
function f(e7) {
  return e7 && "isCollection" in e7;
}
function p(e7) {
  return (e7 == null ? void 0 : e7.Type) ? "function" == typeof e7.Type ? e7.Type : e7.Type.base : null;
}
function y(e7, n7) {
  if (!(n7 == null ? void 0 : n7.constructor) || !f(n7.constructor)) return v(e7, n7) ? n7 : new e7(n7);
  const r5 = p(e7.prototype.itemType), t5 = p(n7.constructor.prototype.itemType);
  return r5 ? t5 ? r5 === t5 ? n7 : r5.prototype.isPrototypeOf(t5.prototype) ? new e7(n7) : (v(e7, n7), n7) : new e7(n7) : n7;
}
function v(e7, n7) {
  return !!i(n7) && (r2().error("Accessor#set", "Assigning an instance of '" + (n7.declaredClass || "unknown") + "' which is not a subclass of '" + h(e7) + "'"), true);
}
function g(e7, n7) {
  return null == n7 ? n7 : f(e7) ? y(e7, n7) : l(e7, n7) ? v(e7, n7) ? n7 : new e7(n7) : n7;
}
function h(e7) {
  var _a;
  return ((_a = e7 == null ? void 0 : e7.prototype) == null ? void 0 : _a.declaredClass) || "unknown";
}
var m = /* @__PURE__ */ new WeakMap();
function d(e7) {
  switch (e7) {
    case Number:
      return a2;
    case N:
      return s2;
    case Boolean:
      return o3;
    case String:
      return u;
    case Date:
      return t;
    case _:
      return c;
    default:
      return r(m, e7, () => g.bind(null, e7));
  }
}
function b(e7, n7) {
  const r5 = d(e7);
  return 1 === arguments.length ? r5 : r5(n7);
}
function w(e7, n7, r5) {
  return 1 === arguments.length ? w.bind(null, e7) : n7 ? Array.isArray(n7) ? n7.map((n8) => e7(n8, r5)) : [e7(n7, r5)] : n7;
}
function A(e7, n7) {
  return 1 === arguments.length ? w((n8) => b(e7, n8)) : w((n8) => b(e7, n8), n7);
}
function $(e7, n7, r5) {
  return 0 !== n7 && Array.isArray(r5) ? r5.map((r6) => $(e7, n7 - 1, r6)) : e7(r5);
}
function j(e7, n7, r5) {
  if (2 === arguments.length) return (r6) => j(e7, n7, r6);
  if (!r5) return r5;
  r5 = $(e7, n7, r5);
  let t5 = n7, o12 = r5;
  for (; t5 > 0 && Array.isArray(o12); ) t5--, o12 = o12[0];
  if (void 0 !== o12) for (let u7 = 0; u7 < t5; u7++) r5 = [r5];
  return r5;
}
function k(e7, n7, r5) {
  return 2 === arguments.length ? j((n8) => b(e7, n8), n7) : j((n8) => b(e7, n8), n7, r5);
}
function M(e7) {
  return !!Array.isArray(e7) && !e7.some((n7) => {
    const r5 = typeof n7;
    return !("string" === r5 || "number" === r5 || "function" === r5 && e7.length > 1);
  });
}
function S(e7, n7) {
  if (2 === arguments.length) return S(e7).call(null, n7);
  const t5 = /* @__PURE__ */ new Set(), o12 = e7.filter((e8) => "function" != typeof e8), u7 = e7.filter((e8) => "function" == typeof e8);
  for (const r5 of e7) "string" != typeof r5 && "number" != typeof r5 || t5.add(r5);
  let a9 = null, s9 = null;
  return (e8, n8) => {
    if (null == e8) return e8;
    const c9 = typeof e8, i7 = "string" === c9 || "number" === c9;
    return i7 && (t5.has(e8) || u7.some((e9) => "string" === c9 && e9 === String || "number" === c9 && e9 === Number)) || "object" === c9 && u7.some((n9) => !l(e8, n9)) ? e8 : (i7 && o12.length ? (a9 || (a9 = o12.map((e9) => "string" == typeof e9 ? `'${e9}'` : `${e9}`).join(", ")), r2().error("Accessor#set", `'${e8}' is not a valid value for this property, only the following values are valid: ${a9}`)) : "object" == typeof e8 && u7.length ? (s9 || (s9 = u7.map((e9) => h(e9)).join(", ")), r2().error("Accessor#set", `'${e8}' is not a valid value for this property, value must be one of ${s9}`)) : r2().error("Accessor#set", `'${e8}' is not a valid value for this property`), n8 && (n8.valid = false), null);
  };
}
function T(e7, n7) {
  if (2 === arguments.length) return T(e7).call(null, n7);
  const t5 = {}, o12 = [], u7 = [];
  for (const r5 in e7.typeMap) {
    const n8 = e7.typeMap[r5];
    t5[r5] = b(n8), o12.push(h(n8)), u7.push(r5);
  }
  const a9 = () => `'${o12.join("', '")}'`, s9 = () => `'${u7.join("', '")}'`, c9 = "string" == typeof e7.key ? (n8) => n8[e7.key] : e7.key;
  return (n8) => {
    if (e7.base && !l(e7.base, n8)) return n8;
    if (null == n8) return n8;
    const o13 = c9(n8) || e7.defaultKeyValue, u8 = t5[o13];
    if (!u8) return r2().error("Accessor#set", `Invalid property value, value needs to be one of ${a9()}, or a plain object that can autocast (having .type = ${s9()})`), null;
    if (!l(e7.typeMap[o13], n8)) return n8;
    if ("string" == typeof e7.key && !i(n8)) {
      const r5 = {};
      for (const t6 in n8) t6 !== e7.key && (r5[t6] = n8[t6]);
      return u8(r5);
    }
    return u8(n8);
  };
}
var N = class {
};
var _ = class {
};
var B = { native: (e7) => ({ type: "native", value: e7 }), array: (e7) => ({ type: "array", value: e7 }), oneOf: (e7) => ({ type: "one-of", values: e7 }) };
function C(e7) {
  if (!e7 || !("type" in e7)) return false;
  switch (e7.type) {
    case "native":
    case "array":
    case "one-of":
      return true;
  }
  return false;
}
function D(e7) {
  switch (e7.type) {
    case "native":
      return b(e7.value);
    case "array":
      return w(D(e7.value));
    case "one-of":
      return F(e7);
    default:
      return null;
  }
}
function F(e7) {
  let n7 = null;
  return (t5, o12) => L(t5, e7) ? t5 : (null == n7 && (n7 = I(e7)), r2().error("Accessor#set", `Invalid property value, value needs to be of type ${n7}`), o12 && (o12.valid = false), null);
}
function I(e7) {
  switch (e7.type) {
    case "native":
      switch (e7.value) {
        case Number:
          return "number";
        case String:
          return "string";
        case Boolean:
          return "boolean";
        case N:
          return "integer";
        case Date:
          return "date";
        case _:
          return "null";
        default:
          return h(e7.value);
      }
    case "array":
      return `array of ${I(e7.value)}`;
    case "one-of": {
      const n7 = e7.values.map((e8) => I(e8));
      return `one of ${n7.slice(0, -1)} or ${n7[n7.length - 1]}`;
    }
  }
  return "unknown";
}
function L(e7, n7) {
  if (null == e7) return true;
  switch (n7.type) {
    case "native":
      switch (n7.value) {
        case Number:
        case N:
          return "number" == typeof e7;
        case Boolean:
          return "boolean" == typeof e7;
        case String:
          return "string" == typeof e7;
        case _:
          return null === e7;
      }
      return e7 instanceof n7.value;
    case "array":
      return !!Array.isArray(e7) && !e7.some((e8) => !L(e8, n7.value));
    case "one-of":
      return n7.values.some((n8) => L(e7, n8));
  }
}

// ../node_modules/@arcgis/core/core/accessorSupport/utils.js
function t2(r5) {
  return r5.__accessor__ ?? null;
}
function e3(r5, n7) {
  var _a;
  return null != ((_a = r5 == null ? void 0 : r5.metadata) == null ? void 0 : _a[n7]);
}
function u2(r5, n7, t5) {
  if (t5) {
    return o4(r5, n7, { policy: t5, path: "" });
  }
  return o4(r5, n7, null);
}
function o4(r5, t5, e7) {
  return t5 ? Object.keys(t5).reduce((r6, i7) => {
    const u7 = i7;
    let a9 = null, l8 = "merge";
    if (e7 && (a9 = e7.path ? `${e7.path}.${i7}` : i7, l8 = e7.policy(a9)), "replace" === l8) return r6[u7] = t5[u7], r6;
    if ("replace-arrays" === l8 && Array.isArray(r6[u7])) return r6[u7] = t5[u7], r6;
    if (void 0 === r6[u7]) return r6[u7] = a(t5[u7]), r6;
    let s9 = r6[u7], c9 = t5[u7];
    if (s9 === c9) return r6;
    if (Array.isArray(c9) || Array.isArray(r6)) s9 = s9 ? Array.isArray(s9) ? r6[u7] = s9.concat() : r6[u7] = [s9] : r6[u7] = [], c9 && (Array.isArray(c9) || (c9 = [c9]), c9.forEach((r7) => {
      s9.includes(r7) || s9.push(r7);
    }));
    else if (c9 && "object" == typeof c9) if (e7) {
      const n7 = e7.path;
      e7.path = a9, r6[u7] = o4(s9, c9, e7), e7.path = n7;
    } else r6[u7] = o4(s9, c9, null);
    else r6.hasOwnProperty(i7) && !t5.hasOwnProperty(i7) || (r6[u7] = c9);
    return r6;
  }, r5 || {}) : r5;
}
function l2(r5) {
  return Array.isArray(r5) ? r5 : r5.split(".");
}
function s3(r5) {
  return r5.includes(",") ? r5.split(",").map((r6) => r6.trim()) : [r5.trim()];
}
function c2(r5) {
  if (Array.isArray(r5)) {
    const n7 = [];
    for (const t5 of r5) n7.push(...s3(t5));
    return n7;
  }
  return s3(r5);
}
function p2(n7, t5, e7, i7) {
  const u7 = c2(t5);
  if (1 !== u7.length) {
    const t6 = u7.map((r5) => i7(n7, r5, e7));
    return o(t6);
  }
  return i7(n7, u7[0], e7);
}

// ../node_modules/@arcgis/core/core/accessorSupport/tracking/Flags.js
var i2;
!function(i7) {
  i7[i7.Dirty = 1] = "Dirty", i7[i7.Overridden = 2] = "Overridden", i7[i7.Computing = 4] = "Computing", i7[i7.NonNullable = 8] = "NonNullable", i7[i7.HasDefaultValue = 16] = "HasDefaultValue", i7[i7.DepTrackingInitialized = 32] = "DepTrackingInitialized", i7[i7.AutoTracked = 64] = "AutoTracked", i7[i7.ExplicitlyTracking = 128] = "ExplicitlyTracking";
}(i2 || (i2 = {}));

// ../node_modules/@arcgis/core/core/accessorSupport/tracking.js
var o5 = { onObservableAccessed: () => {
}, onTrackingEnd: () => {
} };
var c3 = [];
var i3 = o5;
function s4(t5) {
  i3.onObservableAccessed(t5);
}
var l3 = false;
var a3 = false;
function f2(t5, n7, r5) {
  if (l3) return u3(t5, n7, r5);
  p3(t5);
  const e7 = n7.call(r5);
  return d2(), e7;
}
function g2(t5, n7) {
  return f2(o5, t5, n7);
}
function u3(n7, r5, e7) {
  const o12 = l3;
  l3 = true, p3(n7);
  let c9 = null;
  try {
    c9 = r5.call(e7);
  } catch (i7) {
    a3 && n.getLogger("esri.core.accessorSupport.tracking").error(i7);
  }
  return d2(), l3 = o12, c9;
}
function p3(t5) {
  i3 = t5, c3.push(t5);
}
function d2() {
  const t5 = c3.length;
  if (t5 > 1) {
    const n7 = c3.pop();
    i3 = c3[t5 - 2], n7.onTrackingEnd();
  } else if (1 === t5) {
    const t6 = c3.pop();
    i3 = o5, t6.onTrackingEnd();
  } else i3 = o5;
}
function m2(t5, n7) {
  if (n7.flags & i2.DepTrackingInitialized) return;
  const r5 = a3;
  a3 = false, n7.flags & i2.AutoTracked ? u3(n7, n7.metadata.get, t5) : k2(t5, n7), a3 = r5;
}
var y2 = [];
function k2(t5, r5) {
  r5.flags & i2.ExplicitlyTracking || (r5.flags |= i2.ExplicitlyTracking, u3(r5, () => {
    const e7 = r5.metadata.dependsOn || y2;
    for (const r6 of e7) if ("string" != typeof r6 || r6.includes(".")) {
      const e8 = l2(r6);
      for (let n7 = 0, r7 = t5; n7 < e8.length && null != r7 && "object" == typeof r7; ++n7) r7 = A2(r7, e8[n7], n7 !== e8.length - 1);
    } else A2(t5, r6, false);
  }), r5.flags &= ~i2.ExplicitlyTracking);
}
function A2(t5, n7, e7) {
  const o12 = "?" === n7[n7.length - 1] ? n7.slice(0, -1) : n7;
  if (null != t5.getItemAt || Array.isArray(t5)) {
    const n8 = parseInt(o12, 10);
    if (!isNaN(n8)) return Array.isArray(t5) ? t5[n8] : t5.at(n8);
  }
  const c9 = t2(t5);
  if (c9) {
    const n8 = c9.propertiesByName.get(o12);
    n8 && (s4(n8), m2(t5, n8));
  }
  return e7 ? t5[o12] : void 0;
}

// ../node_modules/@arcgis/core/core/Warning.js
var s5 = class extends e2 {
  constructor(e7, s9, t5) {
    super(e7, s9, t5);
  }
};
s5.prototype.type = "warning";

// ../node_modules/@arcgis/core/core/accessorSupport/metadata.js
function r3(e7) {
  let r5 = e7.constructor.__accessorMetadata__;
  const o12 = Object.prototype.hasOwnProperty.call(e7.constructor, "__accessorMetadata__");
  if (r5) {
    if (!o12) {
      r5 = Object.create(r5);
      for (const e8 in r5) r5[e8] = a(r5[e8]);
      Object.defineProperty(e7.constructor, "__accessorMetadata__", { value: r5, enumerable: false, configurable: true, writable: true });
    }
  } else r5 = {}, Object.defineProperty(e7.constructor, "__accessorMetadata__", { value: r5, enumerable: false, configurable: true, writable: true });
  return e7.constructor.__accessorMetadata__;
}
function o6(t5, e7) {
  const o12 = r3(t5);
  let c9 = o12[e7];
  return c9 || (c9 = o12[e7] = {}), c9;
}
function c4(t5, r5) {
  return u2(t5, r5, n3);
}
var a4 = /^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;
function n3(t5) {
  return a4.test(t5) ? "replace" : "merge";
}

// ../node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/type.js
function e4(e7) {
  var _a;
  return !!e7 && ((_a = e7.prototype) == null ? void 0 : _a.declaredClass) && 0 === e7.prototype.declaredClass.indexOf("esri.core.Collection");
}

// ../node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/reader.js
var i4 = () => n.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");
function p4(t5, r5, n7) {
  var _a, _b;
  t5 && (!n7 && !r5.read || ((_a = r5.read) == null ? void 0 : _a.reader) || false === ((_b = r5.read) == null ? void 0 : _b.enabled) || l4(t5) && e("read.reader", u4(t5), r5));
}
function u4(t5) {
  var _a, _b;
  const e7 = t5.ndimArray ?? 0;
  if (e7 > 1) return c5(t5);
  if (1 === e7) return a5(t5);
  if ("type" in t5 && d3(t5.type)) {
    const e8 = (_b = (_a = t5.type.prototype) == null ? void 0 : _a.itemType) == null ? void 0 : _b.Type, r5 = a5("function" == typeof e8 ? { type: e8 } : { types: e8 });
    return (e9, n7, o12) => {
      const i7 = r5(e9, n7, o12);
      return i7 ? new t5.type(i7) : i7;
    };
  }
  return s6(t5);
}
function s6(t5) {
  return "type" in t5 ? y3(t5.type) : g3(t5.types);
}
function y3(t5) {
  return t5.prototype.read ? (e7, r5, n7) => {
    if (null == e7) return e7;
    const o12 = typeof e7;
    if ("object" !== o12) return void i4().error(`Expected JSON value of type 'object' to deserialize type '${t5.prototype.declaredClass}', but got '${o12}'`);
    const p8 = new t5();
    return p8.read(e7, n7), p8;
  } : t5.fromJSON;
}
function f3(t5, e7, r5, n7) {
  return 0 !== n7 && Array.isArray(e7) ? e7.map((e8) => f3(t5, e8, r5, n7 - 1)) : t5(e7, void 0, r5);
}
function c5(t5) {
  const e7 = s6(t5), r5 = f3.bind(null, e7), n7 = t5.ndimArray ?? 0;
  return (t6, e8, o12) => {
    if (null == t6) return t6;
    t6 = r5(t6, o12, n7);
    let i7 = n7, p8 = t6;
    for (; i7 > 0 && Array.isArray(p8); ) i7--, p8 = p8[0];
    if (void 0 !== p8) for (let r6 = 0; r6 < i7; r6++) t6 = [t6];
    return t6;
  };
}
function a5(t5) {
  const e7 = s6(t5);
  return (t6, r5, n7) => {
    if (null == t6) return t6;
    if (Array.isArray(t6)) {
      const r6 = [];
      for (const o13 of t6) {
        const t7 = e7(o13, void 0, n7);
        void 0 !== t7 && r6.push(t7);
      }
      return r6;
    }
    const o12 = e7(t6, void 0, n7);
    return void 0 !== o12 ? [o12] : void 0;
  };
}
function d3(t5) {
  if (!e4(t5)) return false;
  const e7 = t5.prototype.itemType;
  return !(!e7 || !e7.Type) && ("function" == typeof e7.Type ? m3(e7.Type) : j2(e7.Type));
}
function l4(t5) {
  return "types" in t5 ? j2(t5.types) : m3(t5.type);
}
function m3(t5) {
  return !Array.isArray(t5) && (!!t5 && t5.prototype && ("read" in t5.prototype || "fromJSON" in t5 || d3(t5)));
}
function j2(t5) {
  for (const e7 in t5.typeMap) {
    if (!m3(t5.typeMap[e7])) return false;
  }
  return true;
}
function g3(t5) {
  let e7 = null;
  const n7 = t5.errorContext ?? "type", o12 = t5.validate;
  return (p8, u7, s9) => {
    if (null == p8) return p8;
    const y6 = typeof p8;
    if ("object" !== y6) return void i4().error(`Expected JSON value of type 'object' to deserialize, but got '${y6}'`);
    e7 || (e7 = v2(t5));
    const f7 = t5.key;
    if ("string" != typeof f7) return;
    const c9 = p8[f7], a9 = c9 ? e7[c9] : t5.defaultKeyValue ? t5.typeMap[t5.defaultKeyValue] : void 0;
    if (!a9) {
      const t6 = `Type '${c9 || "unknown"}' is not supported`;
      return (s9 == null ? void 0 : s9.messages) && p8 && s9.messages.push(new s5(`${n7}:unsupported`, t6, { definition: p8, context: s9 })), void i4().error(t6);
    }
    const d4 = new a9();
    return d4.read(p8, s9), o12 ? o12(d4) : d4;
  };
}
function v2(t5) {
  var _a, _b;
  const e7 = {};
  for (const r5 in t5.typeMap) {
    const o12 = t5.typeMap[r5], i7 = r3(o12.prototype);
    if ("function" == typeof t5.key) continue;
    const p8 = i7[t5.key];
    if (!p8) continue;
    if (((_a = p8.json) == null ? void 0 : _a.type) && Array.isArray(p8.json.type) && 1 === p8.json.type.length && "string" == typeof p8.json.type[0]) {
      e7[p8.json.type[0]] = o12;
      continue;
    }
    const u7 = (_b = p8.json) == null ? void 0 : _b.write;
    if (!(u7 == null ? void 0 : u7.writer)) {
      e7[r5] = o12;
      continue;
    }
    const s9 = u7.target, y6 = "string" == typeof s9 ? s9 : t5.key, f7 = {};
    u7.writer(r5, f7, y6), f7[y6] && (e7[f7[y6]] = o12);
  }
  return e7;
}

// ../node_modules/@arcgis/core/core/accessorSupport/beforeDestroy.js
var o7 = Symbol("Accessor-beforeDestroy");

// ../node_modules/@arcgis/core/core/accessorSupport/interfaces.js
var I2;
!function(I3) {
  I3[I3.INITIALIZING = 0] = "INITIALIZING", I3[I3.CONSTRUCTING = 1] = "CONSTRUCTING", I3[I3.CONSTRUCTED = 2] = "CONSTRUCTED", I3[I3.DESTROYED = 3] = "DESTROYED";
}(I2 || (I2 = {}));

// ../node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/originAliases.js
function n4(n7) {
  if (n7.json && n7.json.origins) {
    const o12 = n7.json.origins, e7 = { "web-document": ["web-scene", "web-map"] };
    for (const n8 in e7) if (o12[n8]) {
      const s9 = o12[n8];
      e7[n8].forEach((n9) => {
        o12[n9] = s9;
      }), delete o12[n8];
    }
  }
}

// ../node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/shorthands.js
function e5(e7) {
  if (e7.json || (e7.json = {}), o8(e7.json), n5(e7.json), r4(e7.json), e7.json.origins) for (const t5 in e7.json.origins) o8(e7.json.origins[t5]), n5(e7.json.origins[t5]), r4(e7.json.origins[t5]);
  return true;
}
function r4(e7) {
  e7.name && (e7.read && "object" == typeof e7.read ? void 0 === e7.read.source && (e7.read.source = e7.name) : e7.read = { source: e7.name }, e7.write && "object" == typeof e7.write ? void 0 === e7.write.target && (e7.write.target = e7.name) : e7.write = { target: e7.name });
}
function o8(e7) {
  "boolean" == typeof e7.read ? e7.read = { enabled: e7.read } : "function" == typeof e7.read ? e7.read = { enabled: true, reader: e7.read } : e7.read && "object" == typeof e7.read && void 0 === e7.read.enabled && (e7.read.enabled = true);
}
function n5(e7) {
  "boolean" == typeof e7.write ? e7.write = { enabled: e7.write } : "function" == typeof e7.write ? e7.write = { enabled: true, writer: e7.write } : e7.write && "object" == typeof e7.write && void 0 === e7.write.enabled && (e7.write.enabled = true);
}

// ../node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/writer.js
function i5(r5, e7) {
  if (!e7.write || e7.write.writer || false === e7.write.enabled && !e7.write.overridePolicy) return;
  const t5 = (r5 == null ? void 0 : r5.ndimArray) ?? 0;
  r5 && (1 === t5 || "type" in r5 && e4(r5.type)) ? e7.write.writer = a6 : t5 > 1 ? e7.write.writer = l5(t5) : e7.types ? Array.isArray(e7.types) ? e7.write.writer = f4(e7.types[0]) : e7.write.writer = o9(e7.types) : e7.write.writer = s7;
}
function o9(r5) {
  return (e7, t5, n7, i7) => e7 ? u5(e7, r5, i7) ? s7(e7, t5, n7, i7) : void 0 : s7(e7, t5, n7, i7);
}
function u5(t5, n7, i7) {
  for (const r5 in n7.typeMap) if (t5 instanceof n7.typeMap[r5]) return true;
  if (i7 == null ? void 0 : i7.messages) {
    const o12 = n7.errorContext ?? "type", u7 = `Values of type '${("function" != typeof n7.key ? t5[n7.key] : t5.declaredClass) ?? "Unknown"}' cannot be written`;
    i7 && i7.messages && t5 && i7.messages.push(new s(`${o12}:unsupported`, u7, { definition: t5, context: i7 })), n.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(u7);
  }
  return false;
}
function f4(r5) {
  return (e7, t5, n7, i7) => {
    if (!e7 || !Array.isArray(e7)) return s7(e7, t5, n7, i7);
    return s7(e7.filter((e8) => u5(e8, r5, i7)), t5, n7, i7);
  };
}
function s7(r5, e7, n7, i7) {
  e(n7, p5(r5, i7), e7);
}
function p5(r5, e7) {
  return r5 && "function" == typeof r5.write ? r5.write({}, e7) : r5 && "function" == typeof r5.toJSON ? r5.toJSON() : "number" == typeof r5 ? y4(r5) : r5;
}
function y4(r5) {
  return r5 === -1 / 0 ? -Number.MAX_VALUE : r5 === 1 / 0 ? Number.MAX_VALUE : isNaN(r5) ? null : r5;
}
function a6(r5, e7, n7, i7) {
  let o12;
  null === r5 ? o12 = null : r5 && "function" == typeof r5.map ? (o12 = r5.map((r6) => p5(r6, i7)), "function" == typeof o12.toArray && (o12 = o12.toArray())) : o12 = [p5(r5, i7)], e(n7, o12, e7);
}
function c6(r5, e7, t5) {
  return 0 !== t5 && Array.isArray(r5) ? r5.map((r6) => c6(r6, e7, t5 - 1)) : p5(r5, e7);
}
function l5(r5) {
  return (e7, n7, i7, o12) => {
    let u7;
    if (null === e7) u7 = null;
    else {
      u7 = c6(e7, o12, r5);
      let t5 = r5, n8 = u7;
      for (; t5 > 0 && Array.isArray(n8); ) t5--, n8 = n8[0];
      if (void 0 !== n8) for (let r6 = 0; r6 < t5; r6++) u7 = [u7];
    }
    e(i7, u7, n7);
  };
}

// ../node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty.js
function o10(r5, i7) {
  return y5(r5, "any", i7 == null ? void 0 : i7.origin);
}
function s8(r5, i7) {
  return y5(r5, "read", i7 == null ? void 0 : i7.origin);
}
function a7(r5, i7) {
  return y5(r5, "write", i7 == null ? void 0 : i7.origin);
}
function y5(r5, i7, n7) {
  let e7 = r5 == null ? void 0 : r5.json;
  if ((e7 == null ? void 0 : e7.origins) && n7) {
    let r6;
    r6 = "link-chart" === n7 ? e7.origins[n7] && ("any" === i7 || i7 in e7.origins[n7]) ? e7.origins[n7] : e7.origins["web-map"] : e7.origins[n7], r6 && ("any" === i7 || i7 in r6) && (e7 = r6);
  }
  return e7;
}
function p6(r5) {
  var _a;
  const i7 = f5(r5);
  if (r5.json.origins) for (const e7 in r5.json.origins) {
    const o12 = r5.json.origins[e7], s9 = o12.types ? u6(o12) : i7;
    p4(s9, o12, false), o12.types && !o12.write && ((_a = r5.json.write) == null ? void 0 : _a.enabled) && (o12.write = { ...r5.json.write }), i5(s9, o12);
  }
  p4(i7, r5.json, true), i5(i7, r5.json);
}
function f5(r5) {
  return r5.json.types ? j3(r5.json) : r5.type ? c7(r5) : j3(r5);
}
function u6(r5) {
  return r5.type ? c7(r5) : j3(r5);
}
function c7(i7) {
  if (!i7.type) return;
  let n7 = 0, e7 = i7.type;
  for (; Array.isArray(e7) && !M(e7); ) e7 = e7[0], n7++;
  return { type: e7, ndimArray: n7 };
}
function j3(r5) {
  if (!r5.types) return;
  let i7 = 0, n7 = r5.types;
  for (; Array.isArray(n7); ) n7 = n7[0], i7++;
  return { types: n7, ndimArray: i7 };
}
function l6(r5) {
  e5(r5) && (n4(r5), p6(r5));
}

// ../node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var n6 = /* @__PURE__ */ new Set();
var c8 = /* @__PURE__ */ new Set();
function a8(e7) {
  return (r5) => {
    e7 ?? (e7 = "esri.core.Accessor"), r5.prototype.declaredClass = e7, p7(r5);
    const s9 = [], i7 = [];
    let a9 = r5.prototype;
    for (; a9; ) a9.hasOwnProperty("initialize") && !n6.has(a9.initialize) && (n6.add(a9.initialize), s9.push(a9.initialize)), a9.hasOwnProperty("destroy") && !c8.has(a9.destroy) && (c8.add(a9.destroy), i7.push(a9.destroy)), a9 = Object.getPrototypeOf(a9);
    n6.clear(), c8.clear();
    const l8 = class extends r5 {
      constructor(...e8) {
        if (super(...e8), this.constructor === l8 && "function" == typeof this.postscript) {
          if (s9.length && Object.defineProperty(this, "initialize", { enumerable: false, configurable: true, value() {
            for (let e9 = s9.length - 1; e9 >= 0; e9--) s9[e9].call(this);
          } }), i7.length) {
            let e9 = false;
            const r6 = this[o7];
            Object.defineProperty(this, "destroy", { enumerable: false, configurable: true, value() {
              if (!e9) {
                e9 = true, r6.call(this);
                for (let e10 = 0; e10 < i7.length; e10++) i7[e10].call(this);
              }
            } });
          }
          Object.defineProperty(this, Symbol.dispose, { enumerable: false, configurable: true, value() {
            this.destroy();
          } }), this.postscript();
        }
      }
    };
    l8.__accessorMetadata__ = r3(r5.prototype), l8.prototype.declaredClass = e7;
    const f7 = (e7 || "AccessorSubclass").split(".").slice(-1)[0];
    return Object.defineProperty(l8, "name", { value: f7, configurable: true }), l8;
  };
}
function l7(e7, t5) {
  return null == t5.get ? function() {
    const t6 = this.__accessor__, r5 = t6.propertiesByName.get(e7);
    if (void 0 === r5) return;
    s4(r5);
    const o12 = t6.store;
    return o12.has(e7) ? o12.get(e7) : r5.metadata.value;
  } : function() {
    const t6 = this.__accessor__, r5 = t6.propertiesByName.get(e7);
    if (void 0 !== r5) return r5.getComputed(t6);
  };
}
function p7(e7) {
  const t5 = e7.prototype, s9 = r3(t5), n7 = {};
  for (const o12 of Object.getOwnPropertyNames(s9)) {
    const e8 = s9[o12];
    l6(e8), n7[o12] = { enumerable: true, configurable: true, get: l7(o12, e8), set(t6) {
      const s10 = this.__accessor__;
      if (void 0 !== s10) {
        if (!Object.isFrozen(this)) return s10.initialized && e8.readOnly ? f6("read-only", o12) : s10.lifecycle === I2.CONSTRUCTED && e8.constructOnly ? f6("construct-only", o12) : void s10.set(o12, t6);
      } else Object.defineProperty(this, o12, { enumerable: true, configurable: true, writable: true, value: t6 });
    } };
  }
  Object.defineProperties(e7.prototype, n7);
}
var f6 = (t5, r5) => {
  n.getLogger("esri.core.Accessor").error(`cannot assign to ${t5} property '${r5}'`);
};

// ../node_modules/@arcgis/core/core/ObjectPool.js
function t3(t5) {
  return (t5 == null ? void 0 : t5.release) && "function" == typeof t5.release;
}
function i6(t5) {
  return (t5 == null ? void 0 : t5.acquire) && "function" == typeof t5.acquire;
}
var e6 = class _e {
  constructor(t5, i7, e7, o12 = 1, s9 = 0) {
    if (this._ctor = t5, this._acquireFunction = i7, this._releaseFunction = e7, this.allocationSize = o12, this._pool = new Array(s9), this._initialSize = s9, this._ctor) for (let n7 = 0; n7 < s9; n7++) this._pool[n7] = new this._ctor();
    this.allocationSize = Math.max(o12, 1);
  }
  destroy() {
    this.prune(0);
  }
  acquire(...t5) {
    let o12;
    if (_e.test.disabled) o12 = new this._ctor();
    else {
      if (0 === this._pool.length) {
        const t6 = this.allocationSize;
        for (let i7 = 0; i7 < t6; i7++) this._pool[i7] = new this._ctor();
      }
      o12 = this._pool.pop();
    }
    return this._acquireFunction ? this._acquireFunction(o12, ...t5) : i6(o12) && o12.acquire(...t5), o12;
  }
  release(i7) {
    i7 && !_e.test.disabled && (this._releaseFunction ? this._releaseFunction(i7) : t3(i7) && i7.release(), this._pool.push(i7));
  }
  prune(t5 = this._initialSize) {
    if (!(t5 >= this._pool.length)) {
      for (let i7 = t5; i7 < this._pool.length; ++i7) {
        const t6 = this._pool[i7];
        this._dispose(t6);
      }
      this._pool.length = t5;
    }
  }
  _dispose(t5) {
    t5.dispose && "function" == typeof t5.dispose && t5.dispose();
  }
};
e6.test = { disabled: false };

// ../node_modules/@arcgis/core/core/nextTick.js
var o11 = [];
function t4(t5) {
  o11.push(t5), 1 === o11.length && queueMicrotask(() => {
    const t6 = o11.slice();
    o11.length = 0;
    for (const o12 of t6) o12();
  });
}

export {
  n2 as n,
  r,
  o2 as o,
  u,
  a2 as a,
  s2 as s,
  g,
  b,
  w,
  A,
  j,
  k,
  M,
  S,
  T,
  N,
  _,
  B,
  C,
  D,
  t2 as t,
  e3 as e,
  u2,
  l2 as l,
  p2 as p,
  r3 as r2,
  o6 as o2,
  c4 as c,
  o7 as o3,
  I2 as I,
  i2 as i,
  s4 as s2,
  f2 as f,
  g2,
  m2 as m,
  k2,
  s5 as s3,
  u4 as u3,
  y4 as y,
  o10 as o4,
  s8 as s4,
  a7 as a2,
  a8 as a3,
  e6 as e2,
  t4 as t2
};
//# sourceMappingURL=chunk-GEH2VXFC.js.map
