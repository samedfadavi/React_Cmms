import {
  l
} from "./chunk-5AEITAWU.js";
import {
  s2 as s
} from "./chunk-YNL57W4I.js";

// ../node_modules/@arcgis/core/core/handleUtils.js
var n = { remove: () => {
} };
function e(e3) {
  return e3 ? { remove() {
    e3 && (e3(), e3 = void 0);
  } } : n;
}
function r(n4) {
  n4.forEach((n5) => n5 == null ? void 0 : n5.remove());
}
function o(n4) {
  return e(() => r(n4));
}

// ../node_modules/@arcgis/core/core/clock.js
function e2(e3) {
  return { setTimeout: (o4, r3) => {
    const i2 = e3.setTimeout(o4, r3);
    return e(() => e3.clearTimeout(i2));
  } };
}
var o2 = e2(globalThis);

// ../node_modules/@arcgis/core/core/events.js
function n2(e3) {
  return t(e3) || r2(e3);
}
function t(e3) {
  return null != e3 && "object" == typeof e3 && "on" in e3 && "function" == typeof e3.on;
}
function r2(e3) {
  return null != e3 && "object" == typeof e3 && "addEventListener" in e3 && "function" == typeof e3.addEventListener;
}
function o3(e3, t2, o4) {
  if (!n2(e3)) throw new TypeError("target is not a Evented or EventTarget object");
  return r2(e3) ? i(e3, t2, o4) : e3.on(t2, o4);
}
function i(n4, t2, r3, o4) {
  if (Array.isArray(t2)) {
    const i2 = t2.slice();
    for (const e3 of i2) n4.addEventListener(e3, r3, o4);
    return e(() => {
      for (const e3 of i2) n4.removeEventListener(e3, r3, o4);
    });
  }
  return n4.addEventListener(t2, r3, o4), e(() => n4.removeEventListener(t2, r3, o4));
}
function c(e3, t2, r3) {
  if (!n2(e3)) throw new TypeError("target is not a Evented or EventTarget object");
  if ("once" in e3) return e3.once(t2, r3);
  const i2 = o3(e3, t2, (n4) => {
    i2.remove(), r3.call(e3, n4);
  });
  return i2;
}

// ../node_modules/@arcgis/core/core/promiseUtils.js
function u(t2 = "Aborted") {
  return new s("AbortError", t2);
}
function s2(t2, n4 = "Aborted") {
  if (c2(t2)) throw u(n4);
}
function l2(t2) {
  return t2 instanceof AbortSignal ? t2 : t2 == null ? void 0 : t2.signal;
}
function c2(t2) {
  const n4 = l2(t2);
  return null != n4 && n4.aborted;
}
function a(t2) {
  if (b(t2)) throw t2;
}
function f(t2) {
  if (!b(t2)) throw t2;
}
function m(t2, n4) {
  const e3 = l2(t2);
  if (null != e3) {
    if (!e3.aborted) return c(e3, "abort", () => n4());
    n4();
  }
}
function w(t2, n4) {
  const e3 = l2(t2);
  if (null != e3) return s2(e3), c(e3, "abort", () => n4(u()));
}
function h(t2, n4) {
  return null == l2(n4) ? t2 : new Promise((r3, e3) => {
    let i2 = m(n4, () => e3(u()));
    const s3 = () => {
      i2 = l(i2);
    };
    t2.then(s3, s3), t2.then(r3, e3);
  });
}
function b(t2) {
  return "AbortError" === (t2 == null ? void 0 : t2.name);
}
async function d(t2) {
  try {
    return await t2;
  } catch (n4) {
    if (!b(n4)) throw n4;
    return;
  }
}
async function v(t2) {
  if (!t2) return;
  if ("function" != typeof t2.forEach) {
    const n5 = Object.keys(t2), r3 = n5.map((n6) => t2[n6]), e3 = await v(r3), o4 = {};
    return n5.map((t3, n6) => o4[t3] = e3[n6]), o4;
  }
  const n4 = t2;
  return Promise.allSettled(n4).then((t3) => Array.from(n4, (n5, r3) => {
    const e3 = t3[r3];
    return "fulfilled" === e3.status ? { promise: n5, value: e3.value } : { promise: n5, error: e3.reason };
  }));
}
async function g(t2) {
  return (await Promise.allSettled(t2)).filter((t3) => "fulfilled" === t3.status).map((t3) => t3.value);
}
async function P(t2) {
  return (await Promise.allSettled(t2)).filter((t3) => "rejected" === t3.status).map((t3) => t3.reason);
}
function A(t2, n4 = void 0, r3) {
  const e3 = new AbortController();
  return m(r3, () => e3.abort()), new Promise((r4, o4) => {
    let i2 = setTimeout(() => {
      i2 = 0, r4(n4);
    }, t2);
    m(e3, () => {
      i2 && (clearTimeout(i2), o4(u()));
    });
  });
}
function E(t2, n4) {
  const r3 = new AbortController(), e3 = setTimeout(() => r3.abort(), n4);
  return m(t2, () => {
    r3.abort(), clearTimeout(e3);
  }), { ...t2, signal: r3.signal };
}
function S(t2) {
  return t2 && "function" == typeof t2.then;
}
function C(t2) {
  return S(t2) ? t2 : Promise.resolve(t2);
}
function k(t2, n4 = -1) {
  let r3, e3, o4, i2, s3 = null;
  const l3 = (...c3) => {
    if (r3) {
      e3 = c3, i2 && i2.reject(u()), i2 = L();
      const t3 = i2.promise;
      if (s3) {
        const t4 = s3;
        s3 = null, t4.abort();
      }
      return t3;
    }
    if (o4 = i2 || L(), i2 = null, n4 > 0) {
      const e4 = new AbortController();
      r3 = C(t2(...c3, e4.signal));
      const o5 = r3;
      A(n4).then(() => {
        r3 === o5 && (i2 ? e4.abort() : s3 = e4);
      });
    } else r3 = 1, r3 = C(t2(...c3));
    const a2 = () => {
      const t3 = e3;
      e3 = o4 = r3 = s3 = null, null != t3 && l3(...t3);
    }, f2 = r3, m2 = o4;
    return f2.then(a2, a2), f2.then(m2.resolve, m2.reject), m2.promise;
  };
  return l3;
}
function L() {
  let n4, r3;
  const e3 = new Promise((t2, e4) => {
    n4 = t2, r3 = e4;
  }), o4 = (t2) => {
    n4(t2);
  };
  return o4.resolve = (t2) => n4(t2), o4.reject = (t2) => r3(t2), o4.timeout = (n5, r4) => o2.setTimeout(() => o4.reject(r4), n5), o4.promise = e3, o4;
}
async function D(t2) {
  await Promise.resolve(), s2(t2);
}

export {
  e,
  o,
  o2,
  n2 as n,
  o3,
  c,
  u,
  s2 as s,
  l2 as l,
  c2,
  a,
  f,
  m,
  w,
  h,
  b,
  d,
  v,
  g,
  P,
  A,
  E,
  S,
  C,
  k,
  L,
  D
};
//# sourceMappingURL=chunk-VMWKLHJD.js.map
