{"version":3,"file":"OutputCell.js","names":["Component","mixin","ComponentWithSlots","OutputCell","constructor","props","context","_translate","injector","get","onClick","event","output","_eventBus","fire","onContextmenu","id","onElementsChanged","forceUpdate","componentWillMount","_changeSupport","changeSupport","_elementRegistry","componentWillUnmount","offElementsChanged","render","index","outputsLength","label","name","outputValues","typeRef","width","createVNode","slotFills","type","cellType","col","text"],"sources":["../../../../../src/features/decision-table-head/editor/components/OutputCell.js"],"sourcesContent":["import { Component } from 'inferno';\r\n\r\nimport {\r\n  mixin\r\n} from 'table-js/lib/components';\r\n\r\nimport {\r\n  ComponentWithSlots\r\n} from 'dmn-js-shared/lib/components/mixins';\r\n\r\n\r\nexport default class OutputCell extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    mixin(this, ComponentWithSlots);\r\n\r\n    this._translate = context.injector.get('translate');\r\n  }\r\n\r\n  onClick = (event) => {\r\n    const { output } = this.props;\r\n\r\n    this._eventBus.fire('output.edit', {\r\n      event,\r\n      output\r\n    });\r\n  };\r\n\r\n  onContextmenu = (event) => {\r\n    const { id } = this.props.output;\r\n\r\n    this._eventBus.fire('cell.contextmenu', {\r\n      event,\r\n      id\r\n    });\r\n  };\r\n\r\n  onElementsChanged = () => {\r\n    this.forceUpdate();\r\n  };\r\n\r\n  componentWillMount() {\r\n    const { injector } = this.context;\r\n\r\n    this._changeSupport = this.context.changeSupport;\r\n    this._eventBus = injector.get('eventBus');\r\n    this._elementRegistry = injector.get('elementRegistry');\r\n\r\n    const { output } = this.props;\r\n\r\n    this._changeSupport.onElementsChanged(output.id, this.onElementsChanged);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { output } = this.props;\r\n\r\n    this._changeSupport.offElementsChanged(output.id, this.onElementsChanged);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      output,\r\n      index,\r\n      outputsLength\r\n    } = this.props;\r\n\r\n    const {\r\n      label,\r\n      name,\r\n      outputValues,\r\n      typeRef\r\n    } = output;\r\n\r\n    const width = output.width ? output.width + 'px' : '192px';\r\n\r\n    return (\r\n      <th\r\n        data-col-id={ output.id }\r\n        onDoubleClick={ this.onClick }\r\n        onContextmenu={ this.onContextmenu }\r\n        className=\"output-cell output-editor\"\r\n        style={ { width } }\r\n      >\r\n\r\n        {\r\n          this.slotFills({\r\n            type: 'cell-inner',\r\n            context: {\r\n              cellType: 'output-cell',\r\n              col: this._elementRegistry.get(output.id),\r\n              index,\r\n              outputsLength\r\n            },\r\n            col: output\r\n          })\r\n        }\r\n\r\n        <div className=\"clause\">\r\n          { index === 0 ? this._translate('Then') : this._translate('And') }\r\n        </div>\r\n\r\n        {\r\n          label ? (\r\n            <div\r\n              className=\"output-label\"\r\n              title={ this._translate('Output label: ') + label }>\r\n              { label }\r\n            </div>\r\n          ) : (\r\n            <div\r\n              className=\"output-name\"\r\n              title={ this._translate('Output name: ') + name }>\r\n              { name }\r\n            </div>\r\n          )\r\n        }\r\n\r\n        <div\r\n          className=\"output-variable\"\r\n          title={\r\n            outputValues && outputValues.text ? this._translate('Output values') :\r\n              this._translate('Output type')\r\n          }\r\n        >\r\n          { outputValues && outputValues.text || this._translate(typeRef || '') }\r\n        </div>\r\n      </th>\r\n    );\r\n  }\r\n\r\n}"],"mappings":"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","ignoreList":[]}